<?xml version="1.0"?>
<MvcEditPage xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" PageID="P01112" Controller="" DefaultAction="Index">
  <Action ActionID="8fb72021-648a-46e2-9a5e-f49aa0e66fad" Name="Index" Title="列表" ActionValue="1">
    <Command CommandID="M01829" Name="列表页面" Description="这个命令会直接返回到客户端，无需后继命令" CommandType="IndexPageActionCommand"><![CDATA[<IndexPageActionCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ContentType="text/html">
  <Page SettingType="IndexPage">
    <ToolBar Tag="div" ID="toolbar" Class="toolbar-panel" PageID="P01112">
      <Buttons>
        <UIButton ID="btn-search" Class="easyui-linkbutton normal-button" Options="iconCls:'icon-search',plain:true" Title="检索" ActionValue="2" Action="showActDlg('检索','/Page/P01112/Search',400,300)" />
        <UIButton ID="btn-detail" Class="easyui-linkbutton toolradio normal-button" Options="iconCls:'icon-detail',plain:true" Title="查看" ActionValue="4" Action="showActDlg_DGItemActDlg('datagrid','查看','/Page/P01112/Detail',400,300)" />
        <UIButton ID="btn-create" Class="easyui-linkbutton normal-button" Options="iconCls:'icon-add',plain:true" Title="购入" ActionValue="8" Action="showActDlg('购入','/Page/P01112/CreateRK',400,300)" />
        <UIButton ID="btn-create" Class="easyui-linkbutton normal-button" Options="iconCls:'icon-add',plain:true" Title="领用" ActionValue="8" Action="showActDlg('领用','/Page/P01112/CreateLY',400,300)" />
        <UIButton ID="btn-create" Class="easyui-linkbutton normal-button" Options="iconCls:'icon-add',plain:true" Title="借用" ActionValue="8" Action="showActDlg('借用','/Page/P01112/CreateJY',400,300)" />
        <UIButton ID="btn-create" Class="easyui-linkbutton toolradio normal-button hide_YHStatus_领用_入库_归还_借用（已还）" Options="iconCls:'icon-add',plain:true" Title="归还" ActionValue="8" Action="showActDlg_DGItemActDlg('datagrid','归还','/Page/P01112/GH',400,300)" />
        <UIButton ID="btn-edit" Class="easyui-linkbutton toolradio normal-button" Options="iconCls:'icon-edit',plain:true" Title="修改" ActionValue="16" Action="showActDlg_DGItemActDlg('datagrid','修改','/Page/P01112/Edit',400,300)" />
      </Buttons>
    </ToolBar>
    <DataGrid Tag="table" ID="datagrid" Class="easyui-datagrid" Options="url:'/Page/P01112/Query',fit:true,pagination: true,rownumbers: true,nowrap: true,striped: true,collapsible: false,resizable:true,onClickRow:oncheckstate,onSelect:oncheckstate,onCheck:oncheckstate,onCheckAll:oncheckstate,onUncheckAll:oncheckstate,onUncheck:oncheckstate,onUnselect:oncheckstate" Key="PAID">
      <Column Title="PAID" FieldName="PAID" IsCheckBox="true" />
      <Column Title="变动类型" FieldName="YHStatus" />
      <Column Title="耗品名称" FieldName="Product" />
      <Column HAlign="Right" Title="数量" FieldName="Qty" />
      <Column HAlign="Right" Title="购入单价（元）" FieldName="Amount" />
      <Column HAlign="Center" Title="变动时间" FieldName="PADATE" />
      <Column Title="公司" FieldName="Name" />
      <Column Title="存放仓库" FieldName="WHName" />
      <Column Title="负责部门" FieldName="DeptName" />
      <Column Title="负责员工" FieldName="EName" />
      <Column Title="备注" FieldName="Remark" />
    </DataGrid>
  </Page>
</IndexPageActionCommand>]]></Command>
  </Action>
  <Action ActionID="a7e6cd81-30ac-4597-bf5d-9e3e8ed3723c" Name="Search" Title="检索" ActionValue="2">
    <Command CommandID="M01830" Name="检索页面" Description="这个命令会直接返回到客户端，无需后继命令" CommandType="EditDialogActionCommand"><![CDATA[<EditDialogActionCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ContentType="text/html">
  <Page SettingType="EditDialog">
    <Form ID="dataform" Class="form-dialog">
      <TableLayout />
      <Fields>
        <Field Title="变动类型" FieldType="ComboBox">
          <ComboBox Tag="input" Name="YHStatus" Class="easyui-combobox edit-input" Options="editable:false" Binding="YHStatus" IsRequired="false" DisplayMember="Name" ValueMember="Code" DataUrl="/Share/GetSystemCodes?code=C081" />
        </Field>
        <Field Title="产品名称" FieldType="ComboBox">
          <ComboBox Tag="input" Name="ProductID" Class="easyui-combobox edit-input" Options="editable:false,missingMessage:'请选择产品名称'" Binding="ProductID" IsRequired="false" Length="8" DisplayMember="Name" ValueMember="ID" DataUrl="/Share/Query?name=GetProductName" IsAutoHeight="false" />
        </Field>
        <Field Title="变动时间" FieldType="DateTimeBox">
          <DateTimeBox Tag="input" Name="PADATE" Class="easyui-datetimebox" Style="width:185px" Options="missingMessage:'请选择购入日期'" Binding="PADATE" IsRequired="false" />
        </Field>
        <Field Title="公司" FieldType="ComboBox">
          <ComboBox Tag="input" Name="CompanyID" Class="edit-input easyui-combobox" Options="editable:false" Binding="CompanyID" IsRequired="false" Length="8" DisplayMember="Name" ValueMember="ID" DataUrl="/Share/Query?name=GetCompanyName&amp;Key=" IsAutoHeight="false" OnSelect="function(rec){&#xD;&#xA;var url='/Share/Query?name=GetWHByCompany&amp;CompanyID='+rec.ID&#xD;&#xA;$('#WhCd').combobox({url:url});&#xD;&#xA;}" />
        </Field>
        <Field Title="存放仓库" FieldType="ComboBox">
          <ComboBox Tag="input" ID="WhCd" Name="WhCd" Class="easyui-combobox edit-input" Options="editable:false" Binding="WhCd" IsRequired="false" Length="4" DisplayMember="Name" ValueMember="ID" DataUrl="/Share/Query?name=GetWHByCompany&amp;CompanyID=XXXXXX" IsAutoHeight="false" />
        </Field>
        <Field Title="数量" FieldType="NumberBox">
          <NumericBox Tag="input" Name="Qty" Class="easyui-numberbox" Style="width:185px" Options="missingMessage:'请输入购入数量',min:0,max:99999999" Binding="Qty" IsRequired="false" />
        </Field>
      </Fields>
      <ToolBar Tag="div" ID="toolbar" Class="dialog-button" PageID="P01112">
        <Buttons>
          <UIButton ID="btn-query" Class="easyui-linkbutton edit-button" Options="iconCls:'icon-ok'" Title="确定" ActionValue="2" Action="submitAct_DGReplace('dataform','/Page/P01112/Query','datagrid')" />
          <UIButton ID="btn-cancel" Class="easyui-linkbutton edit-button" Options="iconCls:'icon-cancel'" Title="取消" Action="cancel()" />
        </Buttons>
      </ToolBar>
    </Form>
  </Page>
</EditDialogActionCommand>]]></Command>
  </Action>
  <Action ActionID="d8fc6b19-b32e-4d96-b16f-98f67168bcd1" Name="Query" Title="检索" ActionValue="2">
    <Command CommandID="M01831" Name="查询总数" Description="本查询的结果值为JSON，参数路径为Results[检索分页].Json" CommandType="ScalarSqlCommand"><![CDATA[<ScalarCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" NextCommand="分页查询" GroupName="固定资产" TableName="zc_ConsumableAlteration" CommandName="QueryCount" SqlType="Scalar">
  <Parameter Name="YHStatus" Path="Request[YHStatus]" Type="Parameter" />
  <Parameter Name="ProductID" Path="Request[ProductID]" Type="Parameter" />
  <Parameter Name="PADATE" Path="Request[PADATE]" Type="Parameter" />
  <Parameter Name="CompanyID" Path="Request[CompanyID]" Type="Parameter" />
  <Parameter Name="WhCd" Path="Request[WhCd]" Type="Parameter" />
  <Parameter Name="Qty" Path="Request[Qty]" Type="Parameter" />
</ScalarCommand>]]></Command>
    <Command CommandID="M01832" Name="分页查询" Description="本查询的结果值为JSON，参数路径为Results[检索分页].Json" CommandType="QuerySqlCommand"><![CDATA[<QueryCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" NextCommand="搜索结果" GroupName="固定资产" TableName="zc_ConsumableAlteration" CommandName="QueryPage">
  <Parameter Name="YHStatus" Path="Request[YHStatus]" Type="Parameter" />
  <Parameter Name="ProductID" Path="Request[ProductID]" Type="Parameter" />
  <Parameter Name="PADATE" Path="Request[PADATE]" Type="Parameter" />
  <Parameter Name="CompanyID" Path="Request[CompanyID]" Type="Parameter" />
  <Parameter Name="WhCd" Path="Request[WhCd]" Type="Parameter" />
  <Parameter Name="Qty" Path="Request[Qty]" Type="Parameter" />
  <Parameter Name="Page" Path="Request[Page]" Type="Parameter" />
  <Parameter Name="Rows" Path="Request[Rows]" Type="Parameter" />
</QueryCommand>]]></Command>
    <Command CommandID="M01833" Name="搜索结果" Description="返回搜索结果" CommandType="JsonActionCommand"><![CDATA[<JsonActionCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ContentType="application/json">
  <Parameter Name="total" Path="Results[查询总数].Value" Type="Parameter" />
  <Parameter Name="rows" Path="Results[分页查询].Items" Type="Parameter" />
  <Parameter Name="HasError" Path="LastResult.IsError" Type="Parameter" />
  <Parameter Name="ErrorMessage" Path="LastResult.ErrorMessage" Type="Parameter" />
</JsonActionCommand>]]></Command>
  </Action>
  <Action ActionID="8bf50c62-faec-4205-83ce-328035b663a5" Name="Detail" Title="查看" ActionValue="4">
    <Command CommandID="M01834" Name="查询明细" Description="查询明细" CommandType="QuerySqlCommand"><![CDATA[<QueryCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" NextCommand="查看页面" GroupName="固定资产" TableName="zc_ConsumableAlteration" CommandName="GetDetail">
  <Parameter Name="PAID" Path="Request[ID]" Type="Parameter" />
</QueryCommand>]]></Command>
    <Command CommandID="M01835" Name="查看页面" Description="这个命令会直接返回到客户端，无需后继命令" CommandType="EditDialogActionCommand"><![CDATA[<EditDialogActionCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ContentType="text/html">
  <Parameter Name="Data" Path="LastResult.Items" Type="Parameter" />
  <Page SettingType="EditDialog">
    <Form ID="dataform" Class="form-dialog" DataBinding="Parameters[Data]" EditPanelClass="edit-panel-w2">
      <TableLayout />
      <Fields>
        <Field Title="变动类型" FieldType="TextBox">
          <Input Tag="input" Name="YHStatus" Class="edit-input easyui-textbox" Binding="YHStatus" IsReadOnly="true" IsRequired="false" />
        </Field>
        <Field Title="变动时间" FieldType="TextBox">
          <DateBox Tag="input" Name="PADATE" Class="edit-input easyui-textbox" Binding="PADATE" IsReadOnly="true" IsRequired="false" />
        </Field>
        <Field Title="产品名称" FieldType="TextBox">
          <Input Tag="input" Name="ProductID" Class="edit-input easyui-textbox" Binding="Product" IsReadOnly="true" IsRequired="false" Length="8" />
        </Field>
        <Field Title="数量" FieldType="TextBox">
          <NumericBox Tag="input" Name="Qty" Class="edit-input easyui-textbox" Binding="Qty" IsReadOnly="true" IsRequired="false" />
        </Field>
        <Field Title="公司" FieldType="TextBox">
          <ComboBox Tag="input" Name="CompanyID" Class="edit-input easyui-textbox" Binding="Name" IsReadOnly="true" IsRequired="false" Length="8" DisplayMember="Name" ValueMember="ID" DataUrl="/Share/Query?name=GetCompanyName&amp;Key=" IsAutoHeight="false" OnSelect="function(rec){&#xD;&#xA;var url='/Share/Query?name=GetWHByCompany&amp;CompanyID='+rec.ID&#xD;&#xA;$('#WhCd').combobox({url:url});&#xD;&#xA;}" />
        </Field>
        <Field Title="存放仓库" FieldType="TextBox">
          <ComboBox Tag="input" ID="WhCd" Name="WhCd" Class="edit-input easyui-textbox" Binding="WHName" IsReadOnly="true" IsRequired="false" Length="4" DisplayMember="Name" ValueMember="ID" DataUrl="/Share/Query?name=GetWHByCompany&amp;CompanyID=XXXXXX" IsAutoHeight="false" />
        </Field>
        <Field Title="部门" FieldType="TextBox">
          <Input Tag="input" Name="DeptName" Class="edit-input easyui-textbox" Binding="DeptName" IsReadOnly="true" IsRequired="false" />
        </Field>
        <Field Title="员工" FieldType="TextBox">
          <Input Tag="input" Name="EName" Class="edit-input easyui-textbox" Binding="EName" IsReadOnly="true" IsRequired="false" />
        </Field>
        <Field Title="备注" FieldClass="edit-field-w2" FieldType="TextArea">
          <TextArea Tag="input" Name="Remark" Class="edit-input-w2 easyui-textbox" Style="height:90px" Binding="Remark" IsReadOnly="true" IsRequired="false" />
        </Field>
      </Fields>
      <ToolBar Tag="div" ID="toolbar" Class="dialog-button" PageID="P01112">
        <Buttons>
          <UIButton ID="btn-close" Class="easyui-linkbutton edit-button" Options="iconCls:'icon-cancel'" Title="关闭" Action="cancel()" />
        </Buttons>
      </ToolBar>
    </Form>
  </Page>
</EditDialogActionCommand>]]></Command>
  </Action>
  <Action ActionID="432e0b4d-6c3c-4f86-a26c-ec1b3b615654" Name="CreateRK" Title="新增入库" ActionValue="8" ErrorCommand="新增页面">
    <Command CommandID="M01836" Name="新增页面" Description="这个命令会直接返回到客户端，无需后继命令" CommandType="EditDialogActionCommand"><![CDATA[<EditDialogActionCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ContentType="text/html">
  <Page SettingType="EditDialog">
    <Form ID="dataform" Class="form-dialog" EditPanelClass="edit-panel-w2">
      <TableLayout />
      <Fields>
        <Field Title="产品名称" FieldType="ComboBox">
          <ComboBox Tag="input" ID="ProductID" Name="ProductID" Class="easyui-combobox edit-input" Options="editable:false,missingMessage:'请选择产品名称'" Binding="ProductID" Length="8" DisplayMember="Name" ValueMember="ID" DataUrl="/Share/Query?name=GetProductName" IsAutoHeight="false" />
        </Field>
        <Field Title="购入时间" FieldType="DateTimeBox">
          <DateTimeBox Tag="input" Name="PADATE" Class="easyui-datetimebox" Style="width:185px" Options="missingMessage:'请选择购入日期'" Binding="PADATE" />
        </Field>
        <Field Title="公司" FieldType="ComboBox">
          <ComboBox Tag="input" Name="CompanyID" Class="edit-input easyui-combobox" Options="editable:false,missingMessage:'请选择所属公司'" Binding="CompanyID" Length="8" DisplayMember="Name" ValueMember="ID" DataUrl="/Share/Query?name=GetCompanyName&amp;Key=" IsAutoHeight="false" OnSelect="function(rec){&#xD;&#xA;var url='/Share/Query?name=GetDeptTreeByCompanyID&amp;resultformat=jsontree&amp;root='+rec.ID+'&amp;pid=PID&amp;id=ID&amp;text=Name&amp;CompanyID='+rec.ID;&#xD;&#xA;var url1='/Share/Query?name=GetEmpByDeptAndJob&amp;JobID=xxxxxx&amp;DeptID=xxxxxx';&#xD;&#xA;var url2='/Share/Query?name=GetWHByCompany&amp;CompanyID='+rec.ID&#xD;&#xA;$('#EmployeeID').textbox('setValue','');&#xD;&#xA;$('#Department').combotree({url:url});&#xD;&#xA;$('#EmployeeID').combobox({url:url1});&#xD;&#xA;$('#WhCd').combobox({url:url2});&#xD;&#xA;}" />
        </Field>
        <Field Title="存放仓库" FieldType="ComboBox">
          <ComboBox Tag="input" ID="WhCd" Name="WhCd" Class="easyui-combobox edit-input" Options="editable:false,missingMessage:'请选择存放仓库'" Binding="WhCd" Length="4" DisplayMember="Name" ValueMember="ID" DataUrl="/Share/Query?name=GetWHByCompany&amp;CompanyID=XXXXXX" IsAutoHeight="false" />
        </Field>
        <Field Title="购入单价" FieldType="NumberBox">
          <NumericBox Tag="input" Name="Amount" Class="easyui-numberbox" Style="width:185px" Options="precision:2,groupSeparator:',',decimalSeparator:'.',min:0,max:99999999,value:0" Binding="Amount" IsRequired="false" />
        </Field>
        <Field Title="入库数量" FieldType="NumberBox">
          <NumericBox Tag="input" Name="Qty" Class="easyui-numberbox" Style="width:185px" Options="missingMessage:'请输入购入数量',min:0,max:99999999" Binding="Qty" />
        </Field>
        <Field Title="购入部门" FieldType="ComboTree">
          <ComboTree Tag="input" ID="Department" Name="DeptID" Class="edit-input easyui-combotree" Options="editable:false,missingMessage:'请选择所属部门'" Binding="DeptID" Length="8" DataUrl="/Share/Query?name=GetDeptTreeByCompanyID&amp;resultformat=jsontree&amp;root=000000&amp;pid=PID&amp;id=ID&amp;text=Name&amp;CompanyID=xxxxxx" DisplayMember="text" ValueMember="id" IsAutoHeight="false" OnSelect="function(rec){&#xD;&#xA;var url='/Share/Query?name=GetEmpByDeptAndJob&amp;JobID=&amp;DeptID='+rec.id;&#xD;&#xA;$('#EmployeeID').combobox({url:url});&#xD;&#xA;}" />
        </Field>
        <Field Title="购入人" FieldType="ComboBox">
          <ComboBox Tag="input" ID="EmployeeID" Name="EmployeeID" Class="edit-input easyui-combobox" Options="editable:false,missingMessage:'请选择使用员工'" Binding="EmployeeID" IsRequired="false" Length="8" DisplayMember="Name" ValueMember="ID" DataUrl="/Share/Query?name=GetEmpByDeptAndJob&amp;DeptID=xxxxxx&amp;JobID=xxxxxx" IsAutoHeight="false" />
        </Field>
        <Field Title="备注" FieldClass="edit-field-w2" FieldType="TextArea">
          <TextArea Tag="input" Name="Remark" Class="edit-input-w2 easyui-textbox" Style="height:90px" Options="invalid:'Length[1,200]',validMessage:'备注不得超过200字符',prompt:'备注不得超过200字符'" Binding="Remark" IsRequired="false" Length="200" />
        </Field>
      </Fields>
      <ToolBar Tag="div" ID="toolbar" Class="dialog-button" PageID="P01112">
        <Buttons>
          <UIButton Tag="a" ID="btn-add" Class="easyui-linkbutton edit-button" Options="iconCls:'icon-ok'" Title="确定" ActionValue="8" Action="submitAct_DGAppend('dataform','/Page/P01112/AddRK','datagrid')" />
          <UIButton Tag="a" ID="btn-cancel" Class="easyui-linkbutton edit-button" Options="iconCls:'icon-cancel'" Title="取消" Action="cancel()" />
        </Buttons>
      </ToolBar>
    </Form>
  </Page>
</EditDialogActionCommand>]]></Command>
  </Action>
  <Action ActionID="cc327dbc-f568-45ef-985c-0b9258cc74cf" Name="AddRK" Title="新增入库" ActionValue="8" ErrorCommand="新增结果">
    <Command CommandID="M01837" Name="执行新增" Description="本查询的结果值为JSON，参数路径为Results[执行新增].Json" CommandType="QueryJsonSqlCommand"><![CDATA[<QueryJsonCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" NextCommand="新增结果" GroupName="固定资产" TableName="zc_ConsumableAlteration" CommandName="AddRK" SqlType="QueryJson">
  <Parameter Name="YHStatus" Path="Request[YHStatus]" Type="Const" DefaultValue="RK" />
  <Parameter Name="ProductID" Path="Request[ProductID]" Type="Parameter" />
  <Parameter Name="PADATE" Path="Request[PADATE]" Type="Parameter" />
  <Parameter Name="WhCd" Path="Request[WhCd]" Type="Parameter" />
  <Parameter Name="Qty" Path="Request[Qty]" Type="Parameter" />
  <Parameter Name="Remark" Path="Request[Remark]" Type="Parameter" />
  <Parameter Name="CompanyID" Path="Request[CompanyID]" Type="Parameter" />
  <Parameter Name="IsActive" Path="Request[IsActive]" Type="Const" DefaultValue="1" />
  <Parameter Name="CreatedUser" Path="CurrentUserID" Type="SystemParameter" />
  <Parameter Name="CreatedTime" Path="CurrentDateTime" Type="SystemParameter" />
  <Parameter Name="ModifiedUser" Path="CurrentUserID" Type="SystemParameter" />
  <Parameter Name="ModifiedTime" Path="CurrentDateTime" Type="SystemParameter" />
  <Parameter Name="DeptID" Path="Request[DeptID]" Type="Parameter" />
  <Parameter Name="EmployeeID" Path="Request[EmployeeID]" Type="Parameter" />
  <Parameter Name="Amount" Path="Request[Amount]" Type="Parameter" />
</QueryJsonCommand>]]></Command>
    <Command CommandID="M01838" Name="新增结果" Description="返回新增结果" CommandType="JsonActionCommand"><![CDATA[<JsonActionCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ContentType="application/json">
  <Parameter Name="Data" Path="Results[执行新增].Json" Type="Parameter" />
  <Parameter Name="HasError" Path="Results[执行新增].IsError" Type="Parameter" />
  <Parameter Name="ErrorMessage" Path="Results[执行新增].ErrorMessage" Type="Parameter" />
</JsonActionCommand>]]></Command>
  </Action>
  <Action ActionID="d7c0fe5c-a220-4bda-87c1-dbea66e9054d" Name="Edit" Title="编辑" ActionValue="16" ErrorCommand="编辑页面">
    <Command CommandID="M01839" Name="查询编辑" Description="查询编辑" CommandType="QuerySqlCommand"><![CDATA[<QueryCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" NextCommand="编辑页面" GroupName="固定资产" TableName="zc_ConsumableAlteration" CommandName="GetEdit">
  <Parameter Name="PAID" Path="Request[ID]" Type="Parameter" />
</QueryCommand>]]></Command>
    <Command CommandID="M01840" Name="编辑页面" Description="这个命令会直接返回到客户端，无需后继命令" CommandType="EditDialogActionCommand"><![CDATA[<EditDialogActionCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ContentType="text/html">
  <Parameter Name="Data" Path="LastResult.Items" Type="Parameter" />
  <Page SettingType="EditDialog">
    <Form ID="dataform" Class="form-dialog" DataBinding="Parameters[Data]">
      <TableLayout />
      <Fields>
        <Field Title="PAID">
          <Input Tag="input" Name="PAID" Class="edit-input" InputType="hidden" Binding="PAID" IsRequired="false" IsHidden="true" />
        </Field>
        <Field Title="变动类型" FieldType="TextBox">
          <Input Tag="input" Name="YHStatus" Class="edit-input easyui-textbox" Binding="YHStatus" IsReadOnly="true" IsRequired="false" />
        </Field>
        <Field Title="变动时间" FieldType="TextBox">
          <DateBox Tag="input" Name="PADATE" Class="edit-input easyui-textbox" Binding="PADATE" IsReadOnly="true" IsRequired="false" />
        </Field>
        <Field Title="产品名称" FieldType="TextBox">
          <Input Tag="input" Name="Product" Class="edit-input easyui-textbox" Binding="Product" IsReadOnly="true" IsRequired="false" Length="8" />
        </Field>
        <Field Title="公司" FieldType="ComboBox">
          <ComboBox Tag="input" Name="CompanyID" Class="edit-input easyui-combobox" Options="editable:false,missingMessage:'请选择公司'" Binding="CompanyID" IsReadOnly="true" Length="8" DisplayMember="Name" ValueMember="ID" DataUrl="/Share/Query?name=GetCompanyName&amp;Key=" IsAutoHeight="false" OnSelect="function(rec){&#xD;&#xA;var url='/Share/Query?name=GetDeptTreeByCompanyID&amp;resultformat=jsontree&amp;root='+rec.ID+'&amp;pid=PID&amp;id=ID&amp;text=Name&amp;CompanyID='+rec.ID;&#xD;&#xA;var url1='/Share/Query?name=GetEmpByDeptAndJob&amp;JobID=xxxxxx&amp;DeptID=xxxxxx';&#xD;&#xA;var url2='/Share/Query?name=GetWHByCompany&amp;CompanyID='+rec.ID&#xD;&#xA;$('#EmployeeID').textbox('setValue','');&#xD;&#xA;$('#Department').combotree({url:url});&#xD;&#xA;$('#EmployeeID').combobox({url:url1});&#xD;&#xA;$('#WhCd').combobox({url:url2});&#xD;&#xA;}" />
        </Field>
        <Field Title="存放仓库" FieldType="TextBox">
          <ComboBox Tag="input" ID="WhCd" Name="WHName" Class="edit-input easyui-textbox" Binding="WHName" IsReadOnly="true" IsRequired="false" Length="4" DisplayMember="Name" ValueMember="ID" DataUrl="/Share/Query?name=GetWHByCompany&amp;CompanyID=XXXXXX" IsAutoHeight="false" />
        </Field>
        <Field Title="数量" FieldType="TextBox">
          <NumericBox Tag="input" Name="Qty1" Class="edit-input easyui-textbox" Binding="Qty" IsRequired="false" />
        </Field>
        <Field Title="部门" FieldType="TextBox">
          <Input Tag="input" Name="DeptName" Class="edit-input easyui-textbox" Binding="DeptName" IsReadOnly="true" IsRequired="false" />
        </Field>
        <Field Title="员工" FieldType="TextBox">
          <Input Tag="input" Name="EName" Class="edit-input easyui-textbox" Binding="EName" IsReadOnly="true" IsRequired="false" />
        </Field>
        <Field Title="原数量" FieldType="TextBox">
          <Input Tag="input" Name="Qty" Class="edit-input" InputType="hidden" Binding="Qty" IsReadOnly="true" IsRequired="false" IsHidden="true" />
        </Field>
        <Field Title="产品ID">
          <Input Tag="input" Name="ProductID" Class="edit-input" InputType="hidden" Binding="ProductID" IsReadOnly="true" IsRequired="false" IsHidden="true" />
        </Field>
        <Field Title="仓库ID">
          <Input Tag="input" Name="WhCd" Class="edit-input" InputType="hidden" Binding="WhCd" IsReadOnly="true" IsRequired="false" IsHidden="true" />
        </Field>
      </Fields>
      <ToolBar Tag="div" ID="toolbar" Class="dialog-button" PageID="P01112">
        <Buttons>
          <UIButton ID="btn-update" Class="easyui-linkbutton edit-button" Options="iconCls:'icon-ok'" Title="确定" ActionValue="16" Action="submitAct_DGUpdate('dataform','/Page/P01112/Update','datagrid')" />
          <UIButton ID="btn-cancel" Class="easyui-linkbutton edit-button" Options="iconCls:'icon-cancel'" Title="取消" Action="cancel()" />
        </Buttons>
      </ToolBar>
    </Form>
  </Page>
</EditDialogActionCommand>]]></Command>
  </Action>
  <Action ActionID="f60cd651-d1f4-49f2-a23f-c1008a21366e" Name="Update" Title="编辑" ActionValue="16" ErrorCommand="编辑结果">
    <Command CommandID="M01841" Name="执行更新" Description="本查询的结果值为JSON，参数路径为Results[执行更新].Json" CommandType="QueryJsonSqlCommand"><![CDATA[<QueryJsonCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" NextCommand="编辑结果" GroupName="固定资产" TableName="zc_ConsumableAlteration" CommandName="Update" SqlType="QueryJson">
  <Parameter Name="PAID" Path="Request[PAID]" Type="Parameter" />
  <Parameter Name="Qty1" Path="Request[Qty1]" Type="Parameter" />
  <Parameter Name="ModifiedUser" Path="CurrentUserID" Type="SystemParameter" />
  <Parameter Name="ModifiedTime" Path="CurrentDateTime" Type="SystemParameter" />
  <Parameter Name="Qty" Path="Request[Qty]" Type="Parameter" />
  <Parameter Name="ProductID" Path="Request[ProductID]" Type="Parameter" />
  <Parameter Name="WhCd" Path="Request[WhCd]" Type="Parameter" />
</QueryJsonCommand>]]></Command>
    <Command CommandID="M01842" Name="编辑结果" Description="返回编辑结果" CommandType="JsonActionCommand"><![CDATA[<JsonActionCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ContentType="application/json">
  <Parameter Name="Data" Path="Results[执行更新].Json" Type="Parameter" />
  <Parameter Name="HasError" Path="Results[执行更新].IsError" Type="Parameter" />
  <Parameter Name="ErrorMessage" Path="Results[执行更新].ErrorMessage" Type="Parameter" />
</JsonActionCommand>]]></Command>
  </Action>
  <Action ActionID="4c3deb45-818a-48d2-8a01-06495a16639b" Name="Delete" Title="删除" ActionValue="32" ErrorCommand="删除结果">
    <Command CommandID="M01843" Name="执行删除" Description="本查询的结果值为JSON，参数路径为Results[执行删除].Json" CommandType="QueryJsonSqlCommand"><![CDATA[<QueryJsonCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" NextCommand="删除结果" GroupName="固定资产" TableName="zc_ConsumableAlteration" CommandName="Delete" SqlType="QueryJson">
  <Parameter Name="PAID" Path="Request[ID]" Type="Parameter" />
  <Parameter Name="ModifiedUser" Path="CurrentUserID" Type="SystemParameter" />
  <Parameter Name="ModifiedTime" Path="CurrentDateTime" Type="SystemParameter" />
</QueryJsonCommand>]]></Command>
    <Command CommandID="M01844" Name="删除结果" Description="返回删除结果" CommandType="JsonActionCommand"><![CDATA[<JsonActionCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ContentType="application/json">
  <Parameter Name="Data" Path="Results[执行删除].Json" Type="Parameter" />
  <Parameter Name="HasError" Path="Results[执行删除].IsError" Type="Parameter" />
  <Parameter Name="ErrorMessage" Path="Results[执行删除].ErrorMessage" Type="Parameter" />
</JsonActionCommand>]]></Command>
  </Action>
  <Action ActionID="8600c6bc-5438-46f8-b56e-4964def9fa5b" Name="CreateLY" Title="新增领用" ActionValue="8">
    <Command CommandID="M01836" Name="新增页面" Description="这个命令会直接返回到客户端，无需后继命令" CommandType="EditDialogActionCommand"><![CDATA[<EditDialogActionCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ContentType="text/html">
  <Page SettingType="EditDialog">
    <Form ID="dataform" Class="form-dialog" EditPanelClass="edit-panel-w2">
      <TableLayout />
      <Fields>
        <Field Title="产品名称" FieldType="ComboBox">
          <ComboBox Tag="input" ID="ProductID" Name="ProductID" Class="easyui-combobox edit-input" Options="editable:false,missingMessage:'请选择产品名称'" Binding="ProductID" Length="8" DisplayMember="Name" ValueMember="ID" DataUrl="/Share/Query?name=GetProductName" IsAutoHeight="false" />
        </Field>
        <Field Title="领用时间" FieldType="DateTimeBox">
          <DateTimeBox Tag="input" Name="PADATE" Class="easyui-datetimebox" Style="width:185px" Options="missingMessage:'请选择购入日期'" Binding="PADATE" />
        </Field>
        <Field Title="公司" FieldType="ComboBox">
          <ComboBox Tag="input" Name="CompanyID" Class="edit-input easyui-combobox" Options="editable:false,missingMessage:'请选择公司'" Binding="CompanyID" Length="8" DisplayMember="Name" ValueMember="ID" DataUrl="/Share/Query?name=GetCompanyName&amp;Key=" IsAutoHeight="false" OnSelect="function(rec){&#xD;&#xA;var url='/Share/Query?name=GetDeptTreeByCompanyID&amp;resultformat=jsontree&amp;root='+rec.ID+'&amp;pid=PID&amp;id=ID&amp;text=Name&amp;CompanyID='+rec.ID;&#xD;&#xA;var url1='/Share/Query?name=GetEmpByDeptAndJob&amp;JobID=xxxxxx&amp;DeptID=xxxxxx';&#xD;&#xA;var url2='/Share/Query?name=GetWHByCompany&amp;CompanyID='+rec.ID&#xD;&#xA;$('#EmployeeID').textbox('setValue','');&#xD;&#xA;$('#Department').combotree({url:url});&#xD;&#xA;$('#EmployeeID').combobox({url:url1});&#xD;&#xA;$('#WhCd').combobox({url:url2});&#xD;&#xA;}" />
        </Field>
        <Field Title="存放仓库" FieldType="ComboBox">
          <ComboBox Tag="input" ID="WhCd" Name="WhCd" Class="easyui-combobox edit-input" Options="editable:false,missingMessage:'请选择存放仓库'" Binding="WhCd" Length="4" DisplayMember="Name" ValueMember="ID" DataUrl="/Share/Query?name=GetWHByCompany&amp;CompanyID=XXXXXX" IsAutoHeight="false" OnSelect="function(rec){&#xD;&#xA;$.post('/Share/Query?name=GetQtyByProductID&amp;ProductID ='+$('#ProductID').combobox('getValue')+'&amp;WhCd='+rec.ID,function(re){&#xD;&#xA;if(re!=[]){&#xD;&#xA;$('#WQty').textbox('setValue',re[0].Qty);&#xD;&#xA;}&#xD;&#xA;})&#xD;&#xA;}" />
        </Field>
        <Field Title="现有库存" FieldType="NumberBox">
          <NumericBox Tag="input" ID="WQty" Name="WQty" Class="easyui-numberbox" Style="width:185px" Binding="WQty" IsReadOnly="true" IsRequired="false" />
        </Field>
        <Field Title="领用数量" FieldType="NumberBox">
          <NumericBox Tag="input" Name="Qty" Class="easyui-numberbox" Style="width:185px" Options="missingMessage:'请输入购入数量',min:0,max:99999999" Binding="Qty" />
        </Field>
        <Field Title="领用部门" FieldType="ComboTree">
          <ComboTree Tag="input" ID="Department" Name="DeptID" Class="edit-input easyui-combotree" Options="editable:false,missingMessage:'请选择所属部门'" Binding="DeptID" Length="8" DataUrl="/Share/Query?name=GetDeptTreeByCompanyID&amp;resultformat=jsontree&amp;root=000000&amp;pid=PID&amp;id=ID&amp;text=Name&amp;CompanyID=xxxxxx" DisplayMember="text" ValueMember="id" IsAutoHeight="false" OnSelect="function(rec){&#xD;&#xA;var url='/Share/Query?name=GetEmpByDeptAndJob&amp;JobID=&amp;DeptID='+rec.id;&#xD;&#xA;$('#EmployeeID').combobox({url:url});&#xD;&#xA;}" />
        </Field>
        <Field Title="领用人" FieldType="ComboBox">
          <ComboBox Tag="input" ID="EmployeeID" Name="EmployeeID" Class="edit-input easyui-combobox" Options="editable:false,missingMessage:'请选择使用员工'" Binding="EmployeeID" IsRequired="false" Length="8" DisplayMember="Name" ValueMember="ID" DataUrl="/Share/Query?name=GetEmpByDeptAndJob&amp;DeptID=xxxxxx&amp;JobID=xxxxxx" IsAutoHeight="false" />
        </Field>
        <Field Title="备注" FieldClass="edit-field-w2" FieldType="TextArea">
          <TextArea Tag="input" Name="Remark" Class="edit-input-w2 easyui-textbox" Style="height:90px" Options="invalid:'Length[1,200]',validMessage:'备注不得超过200字符',prompt:'备注不得超过200字符'" Binding="Remark" IsRequired="false" Length="200" />
        </Field>
      </Fields>
      <ToolBar Tag="div" ID="toolbar" Class="dialog-button" PageID="P01112">
        <Buttons>
          <UIButton Tag="a" ID="btn-add" Class="easyui-linkbutton edit-button" Options="iconCls:'icon-ok'" Title="确定" ActionValue="8" Action="submitAct_DGAppend('dataform','/Page/P01112/AddLY','datagrid')" />
          <UIButton Tag="a" ID="btn-cancel" Class="easyui-linkbutton edit-button" Options="iconCls:'icon-cancel'" Title="取消" Action="cancel()" />
        </Buttons>
      </ToolBar>
    </Form>
  </Page>
</EditDialogActionCommand>]]></Command>
  </Action>
  <Action ActionID="8d52b559-d123-46cf-8f97-a168b9cc61a2" Name="AddLY" Title="新增领用" ActionValue="8" ErrorCommand="新增结果">
    <Command CommandID="M01837" Name="执行新增" Description="本查询的结果值为JSON，参数路径为Results[执行新增].Json" CommandType="QueryJsonSqlCommand"><![CDATA[<QueryJsonCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" NextCommand="新增结果" GroupName="固定资产" TableName="zc_ConsumableAlteration" CommandName="AddLY" SqlType="QueryJson">
  <Parameter Name="YHStatus" Path="Request[YHStatus]" Type="Const" DefaultValue="LY" />
  <Parameter Name="ProductID" Path="Request[ProductID]" Type="Parameter" />
  <Parameter Name="PADATE" Path="Request[PADATE]" Type="Parameter" />
  <Parameter Name="WhCd" Path="Request[WhCd]" Type="Parameter" />
  <Parameter Name="Qty" Path="Request[Qty]" Type="Parameter" />
  <Parameter Name="Remark" Path="Request[Remark]" Type="Parameter" />
  <Parameter Name="CompanyID" Path="Request[CompanyID]" Type="Parameter" />
  <Parameter Name="IsActive" Path="Request[IsActive]" Type="Const" DefaultValue="1" />
  <Parameter Name="CreatedUser" Path="CurrentUserID" Type="SystemParameter" />
  <Parameter Name="CreatedTime" Path="CurrentDateTime" Type="SystemParameter" />
  <Parameter Name="ModifiedUser" Path="CurrentUserID" Type="SystemParameter" />
  <Parameter Name="ModifiedTime" Path="CurrentDateTime" Type="SystemParameter" />
  <Parameter Name="DeptID" Path="Request[DeptID]" Type="Parameter" />
  <Parameter Name="EmployeeID" Path="Request[EmployeeID]" Type="Parameter" />
</QueryJsonCommand>]]></Command>
    <Command CommandID="M01838" Name="新增结果" Description="返回新增结果" CommandType="JsonActionCommand"><![CDATA[<JsonActionCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ContentType="application/json">
  <Parameter Name="Data" Path="Results[执行新增].Json" Type="Parameter" />
  <Parameter Name="HasError" Path="Results[执行新增].IsError" Type="Parameter" />
  <Parameter Name="ErrorMessage" Path="Results[执行新增].ErrorMessage" Type="Parameter" />
</JsonActionCommand>]]></Command>
  </Action>
  <Action ActionID="68467f25-d46d-46c7-9a91-839a49609cdb" Name="CreateJY" Title="新增借用" ActionValue="8">
    <Command CommandID="M01836" Name="新增页面" Description="这个命令会直接返回到客户端，无需后继命令" CommandType="EditDialogActionCommand"><![CDATA[<EditDialogActionCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ContentType="text/html">
  <Page SettingType="EditDialog">
    <Form ID="dataform" Class="form-dialog" EditPanelClass="edit-panel-w2">
      <TableLayout />
      <Fields>
        <Field Title="产品名称" FieldType="ComboBox">
          <ComboBox Tag="input" ID="ProductID" Name="ProductID" Class="easyui-combobox edit-input" Options="editable:false,missingMessage:'请选择产品名称'" Binding="ProductID" Length="8" DisplayMember="Name" ValueMember="ID" DataUrl="/Share/Query?name=GetProductName" IsAutoHeight="false" />
        </Field>
        <Field Title="借用时间" FieldType="DateTimeBox">
          <DateTimeBox Tag="input" Name="PADATE" Class="easyui-datetimebox" Style="width:185px" Options="missingMessage:'请选择购入日期'" Binding="PADATE" />
        </Field>
        <Field Title="公司" FieldType="ComboBox">
          <ComboBox Tag="input" Name="CompanyID" Class="edit-input easyui-combobox" Options="editable:false,missingMessage:'请选择公司'" Binding="CompanyID" Length="8" DisplayMember="Name" ValueMember="ID" DataUrl="/Share/Query?name=GetCompanyName&amp;Key=" IsAutoHeight="false" OnSelect="function(rec){&#xD;&#xA;var url='/Share/Query?name=GetDeptTreeByCompanyID&amp;resultformat=jsontree&amp;root='+rec.ID+'&amp;pid=PID&amp;id=ID&amp;text=Name&amp;CompanyID='+rec.ID;&#xD;&#xA;var url1='/Share/Query?name=GetEmpByDeptAndJob&amp;JobID=xxxxxx&amp;DeptID=xxxxxx';&#xD;&#xA;var url2='/Share/Query?name=GetWHByCompany&amp;CompanyID='+rec.ID&#xD;&#xA;$('#EmployeeID').textbox('setValue','');&#xD;&#xA;$('#Department').combotree({url:url});&#xD;&#xA;$('#EmployeeID').combobox({url:url1});&#xD;&#xA;$('#WhCd').combobox({url:url2});&#xD;&#xA;}" />
        </Field>
        <Field Title="存放仓库" FieldType="ComboBox">
          <ComboBox Tag="input" ID="WhCd" Name="WhCd" Class="easyui-combobox edit-input" Options="editable:false,missingMessage:'请选择存放仓库'" Binding="WhCd" Length="4" DisplayMember="Name" ValueMember="ID" DataUrl="/Share/Query?name=GetWHByCompany&amp;CompanyID=XXXXXX" IsAutoHeight="false" OnSelect="function(rec){&#xD;&#xA;$.post('/Share/Query?name=GetQtyByProductID&amp;ProductID ='+$('#ProductID').combobox('getValue')+'&amp;WhCd='+rec.ID,function(re){&#xD;&#xA;if(re!=[]){&#xD;&#xA;$('#WQty').textbox('setValue',re[0].Qty);&#xD;&#xA;}&#xD;&#xA;})&#xD;&#xA;}" />
        </Field>
        <Field Title="现有库存" FieldType="NumberBox">
          <NumericBox Tag="input" ID="WQty" Name="WQty" Class="easyui-numberbox" Style="width:185px" Binding="WQty" IsReadOnly="true" IsRequired="false" />
        </Field>
        <Field Title="借用数量" FieldType="NumberBox">
          <NumericBox Tag="input" Name="Qty" Class="easyui-numberbox" Style="width:185px" Options="missingMessage:'请输入购入数量',min:0,max:99999999" Binding="Qty" />
        </Field>
        <Field Title="借用部门" FieldType="ComboTree">
          <ComboTree Tag="input" ID="Department" Name="DeptID" Class="edit-input easyui-combotree" Options="editable:false,missingMessage:'请选择所属部门'" Binding="DeptID" Length="8" DataUrl="/Share/Query?name=GetDeptTreeByCompanyID&amp;resultformat=jsontree&amp;root=000000&amp;pid=PID&amp;id=ID&amp;text=Name&amp;CompanyID=xxxxxx" DisplayMember="text" ValueMember="id" IsAutoHeight="false" OnSelect="function(rec){&#xD;&#xA;var url='/Share/Query?name=GetEmpByDeptAndJob&amp;JobID=&amp;DeptID='+rec.id;&#xD;&#xA;$('#EmployeeID').combobox({url:url});&#xD;&#xA;}" />
        </Field>
        <Field Title="借用人" FieldType="ComboBox">
          <ComboBox Tag="input" ID="EmployeeID" Name="EmployeeID" Class="edit-input easyui-combobox" Options="editable:false,missingMessage:'请选择使用员工'" Binding="EmployeeID" IsRequired="false" Length="8" DisplayMember="Name" ValueMember="ID" DataUrl="/Share/Query?name=GetEmpByDeptAndJob&amp;DeptID=xxxxxx&amp;JobID=xxxxxx" IsAutoHeight="false" />
        </Field>
        <Field Title="备注" FieldClass="edit-field-w2" FieldType="TextArea">
          <TextArea Tag="input" Name="Remark" Class="edit-input-w2 easyui-textbox" Style="height:90px" Options="invalid:'Length[1,200]',validMessage:'备注不得超过200字符',prompt:'备注不得超过200字符'" Binding="Remark" IsRequired="false" Length="200" />
        </Field>
      </Fields>
      <ToolBar Tag="div" ID="toolbar" Class="dialog-button" PageID="P01112">
        <Buttons>
          <UIButton Tag="a" ID="btn-add" Class="easyui-linkbutton edit-button" Options="iconCls:'icon-ok'" Title="确定" ActionValue="8" Action="submitAct_DGAppend('dataform','/Page/P01112/AddJY','datagrid')" />
          <UIButton Tag="a" ID="btn-cancel" Class="easyui-linkbutton edit-button" Options="iconCls:'icon-cancel'" Title="取消" Action="cancel()" />
        </Buttons>
      </ToolBar>
    </Form>
  </Page>
</EditDialogActionCommand>]]></Command>
  </Action>
  <Action ActionID="edd66adb-2fc8-4e76-b758-8b31a5553a7b" Name="AddJY" Title="新增借用" ActionValue="8" ErrorCommand="新增结果">
    <Command CommandID="M01837" Name="执行新增" Description="本查询的结果值为JSON，参数路径为Results[执行新增].Json" CommandType="QueryJsonSqlCommand"><![CDATA[<QueryJsonCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" NextCommand="新增结果" GroupName="固定资产" TableName="zc_ConsumableAlteration" CommandName="AddJY" SqlType="QueryJson">
  <Parameter Name="YHStatus" Path="Request[YHStatus]" Type="Const" DefaultValue="JY" />
  <Parameter Name="ProductID" Path="Request[ProductID]" Type="Parameter" />
  <Parameter Name="PADATE" Path="Request[PADATE]" Type="Parameter" />
  <Parameter Name="WhCd" Path="Request[WhCd]" Type="Parameter" />
  <Parameter Name="Qty" Path="Request[Qty]" Type="Parameter" />
  <Parameter Name="Remark" Path="Request[Remark]" Type="Parameter" />
  <Parameter Name="CompanyID" Path="Request[CompanyID]" Type="Parameter" />
  <Parameter Name="IsActive" Path="Request[IsActive]" Type="Const" DefaultValue="1" />
  <Parameter Name="CreatedUser" Path="CurrentUserID" Type="SystemParameter" />
  <Parameter Name="CreatedTime" Path="CurrentDateTime" Type="SystemParameter" />
  <Parameter Name="ModifiedUser" Path="CurrentUserID" Type="SystemParameter" />
  <Parameter Name="ModifiedTime" Path="CurrentDateTime" Type="SystemParameter" />
  <Parameter Name="DeptID" Path="Request[DeptID]" Type="Parameter" />
  <Parameter Name="EmployeeID" Path="Request[EmployeeID]" Type="Parameter" />
</QueryJsonCommand>]]></Command>
    <Command CommandID="M01838" Name="新增结果" Description="返回新增结果" CommandType="JsonActionCommand"><![CDATA[<JsonActionCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ContentType="application/json">
  <Parameter Name="Data" Path="Results[执行新增].Json" Type="Parameter" />
  <Parameter Name="HasError" Path="Results[执行新增].IsError" Type="Parameter" />
  <Parameter Name="ErrorMessage" Path="Results[执行新增].ErrorMessage" Type="Parameter" />
</JsonActionCommand>]]></Command>
  </Action>
  <Action ActionID="dc1b8d53-f282-408e-be6f-3a204b0b705f" Name="GH" Title="归还" ActionValue="16">
    <Command CommandID="M01839" Name="查询编辑" Description="查询编辑" CommandType="QuerySqlCommand"><![CDATA[<QueryCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" NextCommand="编辑页面" GroupName="固定资产" TableName="zc_ConsumableAlteration" CommandName="GH">
  <Parameter Name="PAID" Path="Request[ID]" Type="Parameter" />
</QueryCommand>]]></Command>
    <Command CommandID="M01840" Name="编辑页面" Description="这个命令会直接返回到客户端，无需后继命令" CommandType="EditDialogActionCommand"><![CDATA[<EditDialogActionCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ContentType="text/html">
  <Parameter Name="Data" Path="LastResult.Items" Type="Parameter" />
  <Page SettingType="EditDialog">
    <Form ID="dataform" Class="form-dialog" DataBinding="Parameters[Data]" EditPanelClass="edit-panel-w2">
      <TableLayout />
      <Fields>
        <Field Title="归还时间" FieldType="DateTimeBox">
          <DateTimeBox Tag="input" Name="PADATE" Class="easyui-datetimebox" Style="width:185px" Options="missingMessage:'请选择购入日期'" Binding="PADATE" />
        </Field>
        <Field Title="产品名称" FieldType="TextBox">
          <Input Tag="input" Name="Product" Class="edit-input easyui-textbox" Binding="Product" IsReadOnly="true" IsRequired="false" Length="8" />
        </Field>
        <Field Title="公司" FieldType="TextBox">
          <ComboBox Tag="input" Name="Name" Class="edit-input easyui-textbox" Binding="Name" IsReadOnly="true" IsRequired="false" Length="8" DisplayMember="Name" ValueMember="ID" DataUrl="/Share/Query?name=GetCompanyName&amp;Key=" IsAutoHeight="false" OnSelect="function(rec){&#xD;&#xA;var url='/Share/Query?name=GetWHByCompany&amp;CompanyID='+rec.ID&#xD;&#xA;$('#WhCd').combobox({url:url});&#xD;&#xA;}" />
        </Field>
        <Field Title="存放仓库" FieldType="TextBox">
          <ComboBox Tag="input" ID="WhCd" Name="WHName" Class="edit-input easyui-textbox" Binding="WHName" IsReadOnly="true" IsRequired="false" Length="4" DisplayMember="Name" ValueMember="ID" DataUrl="/Share/Query?name=GetWHByCompany&amp;CompanyID=XXXXXX" IsAutoHeight="false" />
        </Field>
        <Field Title="数量" FieldType="TextBox">
          <NumericBox Tag="input" Name="Qty" Class="edit-input easyui-textbox" Binding="Qty" IsRequired="false" />
        </Field>
        <Field Title="归还部门" FieldType="TextBox">
          <Input Tag="input" Name="DeptName" Class="edit-input easyui-textbox" Binding="DeptName" IsReadOnly="true" IsRequired="false" />
        </Field>
        <Field Title="归还人" FieldType="TextBox">
          <Input Tag="input" Name="EName" Class="edit-input easyui-textbox" Binding="EName" IsReadOnly="true" IsRequired="false" />
        </Field>
        <Field Title="备注" FieldClass="edit-field-w2" FieldType="TextArea">
          <TextArea Tag="input" Name="Remark" Class="edit-input-w2 easyui-textbox" Style="height:90px" Options="invalid:'Length[1,200]',validMessage:'备注不得超过200字符',prompt:'备注不得超过200字符'" Binding="Remark" IsRequired="false" Length="200" />
        </Field>
        <Field Title="ProductID">
          <Input Tag="input" Name="ProductID" Class="edit-input" InputType="hidden" Binding="ProductID" IsReadOnly="true" IsRequired="false" IsHidden="true" />
        </Field>
        <Field Title="CompanyID">
          <Input Tag="input" Name="CompanyID" Class="edit-input" InputType="hidden" Binding="CompanyID" IsReadOnly="true" IsRequired="false" IsHidden="true" />
        </Field>
        <Field Title="WhCd">
          <Input Tag="input" Name="WhCd" Class="edit-input" InputType="hidden" Binding="WhCd" IsReadOnly="true" IsRequired="false" IsHidden="true" />
        </Field>
        <Field Title="DeptID">
          <Input Tag="input" Name="DeptID" Class="edit-input" InputType="hidden" Binding="DeptID" IsReadOnly="true" IsRequired="false" IsHidden="true" />
        </Field>
        <Field Title="EmployeeID">
          <Input Tag="input" Name="EmployeeID" Class="edit-input" InputType="hidden" Binding="EmployeeID" IsReadOnly="true" IsRequired="false" IsHidden="true" />
        </Field>
        <Field Title="PAID">
          <Input Tag="input" Name="PAID" Class="edit-input" InputType="hidden" Binding="PAID" IsReadOnly="true" IsRequired="false" IsHidden="true" />
        </Field>
      </Fields>
      <ToolBar Tag="div" ID="toolbar" Class="dialog-button" PageID="P01112">
        <Buttons>
          <UIButton ID="btn-add" Class="easyui-linkbutton edit-button" Options="iconCls:'icon-ok'" Title="确定" ActionValue="16" Action="submitAct_DGAppend('dataform','/Page/P01112/AddGH','datagrid')" />
          <UIButton ID="btn-cancel" Class="easyui-linkbutton edit-button" Options="iconCls:'icon-cancel'" Title="取消" Action="cancel()" />
        </Buttons>
      </ToolBar>
    </Form>
  </Page>
</EditDialogActionCommand>]]></Command>
  </Action>
  <Action ActionID="4c7bb6ee-2d1a-4d0f-bd94-19399d819108" Name="AddGH" Title="新增入库" ActionValue="16" ErrorCommand="新增结果">
    <Command CommandID="M01837" Name="执行新增" Description="本查询的结果值为JSON，参数路径为Results[执行新增].Json" CommandType="QueryJsonSqlCommand"><![CDATA[<QueryJsonCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" NextCommand="新增结果" GroupName="固定资产" TableName="zc_ConsumableAlteration" CommandName="AddGH" SqlType="QueryJson">
  <Parameter Name="YHStatus" Path="Request[YHStatus]" Type="Const" DefaultValue="GH" />
  <Parameter Name="ProductID" Path="Request[ProductID]" Type="Parameter" />
  <Parameter Name="PADATE" Path="Request[PADATE]" Type="Parameter" />
  <Parameter Name="WhCd" Path="Request[WhCd]" Type="Parameter" />
  <Parameter Name="Qty" Path="Request[Qty]" Type="Parameter" />
  <Parameter Name="Remark" Path="Request[Remark]" Type="Parameter" />
  <Parameter Name="CompanyID" Path="Request[CompanyID]" Type="Parameter" />
  <Parameter Name="IsActive" Path="Request[IsActive]" Type="Const" DefaultValue="1" />
  <Parameter Name="CreatedUser" Path="CurrentUserID" Type="SystemParameter" />
  <Parameter Name="CreatedTime" Path="CurrentDateTime" Type="SystemParameter" />
  <Parameter Name="ModifiedUser" Path="CurrentUserID" Type="SystemParameter" />
  <Parameter Name="ModifiedTime" Path="CurrentDateTime" Type="SystemParameter" />
  <Parameter Name="PAID" Path="Request[PAID]" Type="Parameter" />
</QueryJsonCommand>]]></Command>
    <Command CommandID="M01838" Name="新增结果" Description="返回新增结果" CommandType="JsonActionCommand"><![CDATA[<JsonActionCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ContentType="application/json">
  <Parameter Name="Data" Path="Results[执行新增].Json" Type="Parameter" />
  <Parameter Name="HasError" Path="Results[执行新增].IsError" Type="Parameter" />
  <Parameter Name="ErrorMessage" Path="Results[执行新增].ErrorMessage" Type="Parameter" />
</JsonActionCommand>]]></Command>
  </Action>
  <Layout EditFieldClass="edit-field" />
  <Buttons>
    <Button ID="btn-search" Title="检索" ActionValue="2" Action="showActDlg('检索','/Page/P01112/Search',400,300)" Class="easyui-linkbutton" Option="iconCls:'icon-search'" />
    <Button ID="btn-query" Title="确定" ActionValue="2" Action="submitAct_DGReplace('dataform','/Page/P01112/Query','datagrid')" Class="easyui-linkbutton edit-button" Option="iconCls:'icon-ok'" ShowInToolBar="false" />
    <Button ID="btn-detail" Title="查看" ActionValue="4" Action="showActDlg_DGItemActDlg('datagrid','查看','/Page/P01112/Detail',400,300)" Class="easyui-linkbutton toolradio" Option="iconCls:'icon-add'" />
    <Button ID="btn-create" Title="新增" ActionValue="8" Action="showActDlg('新增','/Page/P01112/Create',400,300)" Class="easyui-linkbutton" Option="iconCls:'icon-add'" />
    <Button ID="btn-add" Title="确定" ActionValue="8" Action="submitAct_DGAppend('dataform','/Page/P01112/Add','datagrid')" Class="easyui-linkbutton edit-button" Option="iconCls:'icon-ok'" ShowInToolBar="false" />
    <Button ID="btn-edit" Title="修改" ActionValue="16" Action="showActDlg_DGItemActDlg('datagrid','修改','/Page/P01112/Edit',400,300)" Class="easyui-linkbutton toolradio" Option="iconCls:'icon-edit'" />
    <Button ID="btn-update" Title="确定" ActionValue="16" Action="submitAct_DGUpdate('dataform','/Page/P01112/Update','datagrid')" Class="easyui-linkbutton edit-button" Option="iconCls:'icon-ok'" ShowInToolBar="false" />
    <Button ID="btn-delete" Title="删除" ActionValue="32" Action="showActDlg_DGItemsConfirm('datagrid','删除','确认删除选择项？','/Page/P01112/Delete',400,300)" Class="easyui-linkbutton toolmultiple" Option="iconCls:'icon-cancel'" />
    <Button ID="btn-import" Title="导入" ActionValue="64" Action="showActDlg('导入','/Page/P01112/Import',400,300)" Class="easyui-linkbutton" Option="iconCls:'icon-import'" />
    <Button ID="btn-export" Title="导出" ActionValue="128" Action="showActDlg('导出','/Page/P01112/Export',400,300)" Class="easyui-linkbutton" Option="iconCls:'icon-export'" />
    <Button ID="btn-cancel" Title="取消" Action="cancel()" Class="easyui-linkbutton edit-button" Option="iconCls:'icon-cancel'" ShowInToolBar="false" />
    <Button ID="btn-close" Title="确定" Action="cancel()" Class="easyui-linkbutton edit-button" ShowInToolBar="false" />
  </Buttons>
  <EditSource GroupName="固定资产" TableName="zc_ConsumableAlteration" Key="PAID" LogicDeleteFlag="IsActive=0">
    <Fields>
      <EditField Name="PAID" Title="PAID" DataType="varchar" Length="20" EditBox="Hidden" />
      <EditField Name="ProductID" Title="ProductID" DataType="varchar" Length="8" />
      <EditField Name="PADATE" Title="PADATE" DataType="datetime" />
      <EditField Name="WhCd" Title="WhCd" DataType="varchar" Length="4" />
      <EditField Name="LocNo" Title="LocNo" DataType="varchar" Length="20" />
      <EditField Name="Qty" Title="Qty" DataType="int" />
      <EditField Name="Remark" Title="Remark" DataType="nvarchar" Length="200" />
      <EditField Name="CompanyID" Title="CompanyID" DataType="varchar" Length="6" />
      <EditField Name="DeptID" Title="DeptID" DataType="varchar" Length="6" />
      <EditField Name="UserID" Title="UserID" DataType="varchar" Length="6" />
      <EditField Name="ConfirmedBy" Title="ConfirmedBy" DataType="varchar" Length="6" />
      <EditField Name="ConfirmedDt" Title="ConfirmedDt" DataType="datetime" />
      <EditField Name="YHStatus" Title="YHStatus" DataType="char" Length="2" />
      <EditField Name="IsActive" Title="IsActive" DataType="bit" EditBox="ComboBox" ItemsSource="1:是|0:否" />
      <EditField Name="CreatedUser" Title="CreatedUser" DataType="varchar" Length="6" ShowInGrid="false" ShowInCreate="false" ShowInEdit="false" ShowInDetail="false" ShowInSearch="false" IsRequired="false" EnableEdit="false" />
      <EditField Name="CreatedTime" Title="CreatedTime" DataType="datetime" ShowInGrid="false" ShowInCreate="false" ShowInEdit="false" ShowInDetail="false" ShowInSearch="false" IsRequired="false" EnableEdit="false" />
      <EditField Name="ModifiedUser" Title="ModifiedUser" DataType="varchar" Length="6" ShowInGrid="false" ShowInCreate="false" ShowInEdit="false" ShowInDetail="false" ShowInSearch="false" IsRequired="false" EnableEdit="false" />
      <EditField Name="ModifiedTime" Title="ModifiedTime" DataType="datetime" ShowInGrid="false" ShowInCreate="false" ShowInEdit="false" ShowInDetail="false" ShowInSearch="false" IsRequired="false" EnableEdit="false" />
      <EditField Name="AutoKey" Title="AutoKey" DataType="int" ShowInGrid="false" ShowInCreate="false" ShowInEdit="false" ShowInDetail="false" ShowInSearch="false" IsRequired="false" EnableEdit="false" />
    </Fields>
    <ChildTables />
  </EditSource>
</MvcEditPage>