<?xml version="1.0"?>
<MvcEditPage xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" PageID="P01126" Controller="" DefaultAction="Index">
  <Action ActionID="50572e54-2578-4911-ad1b-26543534cf02" Name="Index" Title="列表" ActionValue="1" ErrorCommand="列表页面">
    <Command CommandID="M01621" Name="列表页面" Description="这个命令会直接返回到客户端，无需后继命令" CommandType="IndexPageActionCommand"><![CDATA[<IndexPageActionCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ContentType="text/html">
  <Page SettingType="IndexPage">
    <ToolBar Tag="div" ID="toolbar" Class="toolbar-panel" PageID="P01126">
      <Buttons>
        <UIButton ID="btn-search" Class="easyui-linkbutton normal-button" Options="iconCls:'icon-search',plain:true" Title="检索" ActionValue="2" Action="showActDlg('检索','/Page/P01126/Search',400,300)" />
        <UIButton ID="btn-detail" Class="easyui-linkbutton toolradio normal-button" Options="iconCls:'icon-detail',plain:true" Title="查看" ActionValue="4" Action="showActDlg_DGItemActDlg('datagrid','查看','/Page/P01126/Detail',400,300)" />
        <UIButton ID="btn-create" Class="easyui-linkbutton normal-button" Options="iconCls:'icon-add',plain:true" Title="新增" ActionValue="8" Action="showActDlg('新增','/Page/P01126/Create',400,300)" />
        <UIButton ID="btn-edit" Class="easyui-linkbutton toolradio normal-button" Options="iconCls:'icon-edit',plain:true" Title="修改" ActionValue="16" Action="showActDlg_DGItemActDlg('datagrid','修改','/Page/P01126/Edit',400,300)" />
        <UIButton />
      </Buttons>
    </ToolBar>
    <DataGrid Tag="table" ID="datagrid" Class="easyui-datagrid" Options="url:'/Page/P01126/Query',fitColumns:true,fit:true,pagination: true,rownumbers: true,nowrap: true,striped: true,collapsible: false,resizable:true,onClickRow:oncheckstate,onSelect:oncheckstate,onCheck:oncheckstate,onCheckAll:oncheckstate,onUncheckAll:oncheckstate,onUncheck:oncheckstate,onUnselect:oncheckstate" Key="CustomerID">
      <Column Title="CustomerID" FieldName="CustomerID" IsCheckBox="true" />
      <Column Title="客户名称" FieldName="CustomerName" />
      <Column Title="区域" FieldName="Area" />
      <Column HAlign="Center" Title="联系人" FieldName="Contact" />
      <Column HAlign="Center" Title="手机" FieldName="ContactMobiPhone" />
      <Column Title="备注" FieldName="Remark" />
    </DataGrid>
  </Page>
</IndexPageActionCommand>]]></Command>
  </Action>
  <Action ActionID="aa2ae14d-cd0e-4e08-9ac7-1c310e361bff" Name="Search" Title="检索" ActionValue="2" ErrorCommand="检索页面">
    <Command CommandID="M01622" Name="检索页面" Description="这个命令会直接返回到客户端，无需后继命令" CommandType="EditDialogActionCommand"><![CDATA[<EditDialogActionCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ContentType="text/html">
  <Parameter Name="CompanyID" Path="CurrentUserProfiles" Type="SystemParameter" DefaultValue="CompanyID" />
  <Page SettingType="EditDialog">
    <Form ID="dataform" Class="form-dialog">
      <TableLayout />
      <Fields>
        <Field Title="客户全称" FieldType="TextBox">
          <Input Tag="input" Name="CustomerName" Class="edit-input easyui-textbox" IsRequired="false" Length="50" />
        </Field>
        <Field Title="客户简称" FieldType="TextBox">
          <Input Tag="input" Name="CustomerJC" Class="edit-input easyui-textbox" IsRequired="false" Length="10" />
        </Field>
        <Field Title="联系人" FieldType="TextBox">
          <Input Tag="input" Name="Contact" Class="edit-input easyui-textbox" IsRequired="false" Length="50" />
        </Field>
        <Field Title="手机" FieldType="TextBox">
          <Input Tag="input" Name="ContactMobiPhone" Class="edit-input easyui-textbox" IsRequired="false" Length="20" />
        </Field>
        <Field Title="公海客户" FieldType="ComboBox">
          <ComboBox Tag="input" Name="IsPublic" Class="easyui-combobox edit-input" Options="editable:false,defaultOption:{'Name':'不限', 'Code':''}" IsRequired="false" DisplayMember="Name" ValueMember="Code" DataUrl="/Share/GetSystemCodes?code=C040" OnSelect="function(data){&#xD;&#xA;if(data.Code=='0')&#xD;&#xA;{&#xD;&#xA;$('#BID').combotree('enable');&#xD;&#xA;$('#BID').combotree('enableValidation');&#xD;&#xA;}&#xD;&#xA;else&#xD;&#xA;{&#xD;&#xA;$('#BID').combotree('disable');&#xD;&#xA;$('#BID').combotree('clear');&#xD;&#xA;}&#xD;&#xA;}" />
        </Field>
        <Field Title="所属客服" FieldType="ComboTree">
          <ComboTree Tag="input" ID="BID" Name="BID" Class="edit-input easyui-combotree" Options="editable:false,disabled:true,missingMessage:'请选择客服人员'" DataUrl="/Share/Query?name=GetAllEmployeeWithoutNone&amp;resultformat=jsontree&amp;root=000000&amp;pid=PID&amp;id=DeptID&amp;text=Name" DisplayMember="text" ValueMember="id" IsAutoHeight="false" OnSelect="function(rec){&#xD;&#xA;var ID=rec.id;&#xD;&#xA;if(ID!=''&amp;&amp;ID.charAt(0)!='E'){&#xD;&#xA;$('#BID').combotree('unselect',id);&#xD;&#xA;}&#xD;&#xA;}" />
        </Field>
      </Fields>
      <ToolBar Tag="div" ID="toolbar" Class="dialog-button" PageID="P01126">
        <Buttons>
          <UIButton ID="btn-query" Class="easyui-linkbutton edit-button" Options="iconCls:'icon-ok'" Title="确定" ActionValue="2" Action="submitAct_DGReplace('dataform','/Page/P01126/Query','datagrid')" />
          <UIButton ID="btn-cancel" Class="easyui-linkbutton edit-button" Options="iconCls:'icon-cancel'" Title="取消" Action="cancel()" />
        </Buttons>
      </ToolBar>
    </Form>
  </Page>
</EditDialogActionCommand>]]></Command>
  </Action>
  <Action ActionID="41db0a02-8e22-44d4-9389-1487bb0a6803" Name="Query" Title="检索" ActionValue="2" ErrorCommand="搜索结果">
    <Command CommandID="M01783" Name="查询总数" CommandType="ScalarSqlCommand"><![CDATA[<ScalarCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" NextCommand="执行查询" GroupName="业务模块" TableName="bi_Customer" CommandName="QueryCount" SqlType="Scalar">
  <Parameter Name="CustomerName" Path="Request[CustomerName]" Type="Parameter" Converter="Trim" />
  <Parameter Name="CustomerJC" Path="Request[CustomerJC]" Type="Parameter" Converter="Trim" />
  <Parameter Name="CNature" Path="Request[CNature]" Type="Parameter" Converter="Trim" />
  <Parameter Name="CType" Path="Request[CType]" Type="Parameter" Converter="Trim" />
  <Parameter Name="Contact" Path="Request[Contact]" Type="Parameter" Converter="Trim" />
  <Parameter Name="ContactMobiPhone" Path="Request[ContactMobiPhone]" Type="Parameter" Converter="Trim" />
  <Parameter Name="Area" Path="Request[Area]" Type="Parameter" Converter="Trim" />
  <Parameter Name="IsPublic" Path="Request[IsPublic]" Type="Parameter" />
  <Parameter Name="BID" Path="Request[BID]" Type="Parameter" />
  <Parameter Name="Type" Type="Const" DefaultValue="s" />
</ScalarCommand>]]></Command>
    <Command CommandID="M01636" Name="执行查询" Description="本查询的结果值为JSON，参数路径为Results[执行查询].Json" CommandType="QueryJsonSqlCommand"><![CDATA[<QueryJsonCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" NextCommand="搜索结果" GroupName="业务模块" TableName="bi_Customer" CommandName="QueryPage" SqlType="QueryJson">
  <Parameter Name="CustomerName" Path="Request[CustomerName]" Type="Parameter" Converter="Trim" />
  <Parameter Name="CustomerJC" Path="Request[CustomerJC]" Type="Parameter" Converter="Trim" />
  <Parameter Name="CNature" Path="Request[CNature]" Type="Parameter" Converter="Trim" />
  <Parameter Name="CType" Path="Request[CType]" Type="Parameter" Converter="Trim" />
  <Parameter Name="Contact" Path="Request[Contact]" Type="Parameter" Converter="Trim" />
  <Parameter Name="ContactMobiPhone" Path="Request[ContactMobiPhone]" Type="Parameter" Converter="Trim" />
  <Parameter Name="Area" Path="Request[Area]" Type="Parameter" Converter="Trim" />
  <Parameter Name="IsPublic" Path="Request[IsPublic]" Type="Parameter" />
  <Parameter Name="BID" Path="Request[BID]" Type="Parameter" />
  <Parameter Name="Type" Type="Const" DefaultValue="s" />
  <Parameter Name="Page" Path="Request[Page]" Type="Parameter" />
  <Parameter Name="Rows" Path="Request[Rows]" Type="Parameter" />
</QueryJsonCommand>]]></Command>
    <Command CommandID="M01637" Name="搜索结果" Description="返回搜索结果" CommandType="JsonActionCommand"><![CDATA[<JsonActionCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ContentType="application/json">
  <Parameter Name="rows" Path="Results[执行查询].Json" Type="Parameter" />
  <Parameter Name="HasError" Path="Results[执行查询].IsError" Type="Parameter" />
  <Parameter Name="ErrorMessage" Path="Results[执行查询].ErrorMessage" Type="Parameter" />
  <Parameter Name="total" Path="Results[查询总数].Value" Type="Parameter" />
</JsonActionCommand>]]></Command>
  </Action>
  <Action ActionID="220027c7-6930-497d-9cb6-70df708f9d7d" Name="Detail" Title="查看" ActionValue="4" ErrorCommand="查看页面">
    <Command CommandID="M01625" Name="查询明细" Description="查询明细" CommandType="QuerySqlCommand"><![CDATA[<QueryCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" NextCommand="查看页面" GroupName="业务模块" TableName="bi_Customer" CommandName="GetDetail">
  <Parameter Name="CustomerID" Path="Request[ID]" Type="Parameter" />
</QueryCommand>]]></Command>
    <Command CommandID="M01626" Name="查看页面" Description="这个命令会直接返回到客户端，无需后继命令" CommandType="EditDialogActionCommand"><![CDATA[<EditDialogActionCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ContentType="text/html">
  <Parameter Name="Data" Path="LastResult.Items" Type="Parameter" />
  <Page SettingType="EditDialog">
    <Form ID="dataform" Class="form-dialog" DataBinding="Parameters[Data]" EditPanelClass="edit-panel-w2">
      <TableLayout />
      <Fields>
        <Field Title="全称" FieldType="TextBox">
          <Input Tag="input" Name="CustomerName" Class="edit-input easyui-textbox" Binding="CustomerName" IsReadOnly="true" IsRequired="false" Length="50" />
        </Field>
        <Field Title="简称" FieldType="TextBox">
          <Input Tag="input" Name="CustomerJC" Class="edit-input easyui-textbox" Binding="CustomerJC" IsReadOnly="true" IsRequired="false" Length="10" />
        </Field>
        <Field Title="客户性质" FieldType="TextBox">
          <Input Tag="input" Name="CNature" Class="edit-input easyui-textbox" Binding="CNature" IsReadOnly="true" IsRequired="false" />
        </Field>
        <Field Title="状态" FieldType="TextBox">
          <Input Tag="input" Name="CState" Class="edit-input easyui-textbox" Binding="CState" IsReadOnly="true" IsRequired="false" Length="4" />
        </Field>
        <Field Title="类型" FieldType="TextBox">
          <Input Tag="input" Name="CType" Class="edit-input easyui-textbox" Binding="CType" IsReadOnly="true" IsRequired="false" Length="6" />
        </Field>
        <Field Title="代理商" FieldType="TextBox">
          <Input Tag="input" Name="AgentID" Class="edit-input easyui-textbox" Binding="AgentID" IsReadOnly="true" IsRequired="false" Length="8" />
        </Field>
        <Field Title="联系人" FieldType="TextBox">
          <Input Tag="input" Name="Contact" Class="edit-input easyui-textbox" Binding="Contact" IsReadOnly="true" IsRequired="false" Length="50" />
        </Field>
        <Field Title="性别" FieldType="TextBox">
          <Input Tag="input" Name="ContactSex" Class="edit-input easyui-textbox" Binding="ContactSex" IsReadOnly="true" IsRequired="false" Length="2" />
        </Field>
        <Field Title="手机" FieldType="TextBox">
          <Input Tag="input" Name="ContactMobiPhone" Class="edit-input easyui-textbox" Binding="ContactMobiPhone" IsReadOnly="true" IsRequired="false" Length="20" />
        </Field>
        <Field Title="座机" FieldType="TextBox">
          <Input Tag="input" Name="ContactTel" Class="edit-input easyui-textbox" Binding="ContactTel" IsReadOnly="true" IsRequired="false" Length="20" />
        </Field>
        <Field Title="传真" FieldType="TextBox">
          <Input Tag="input" Name="ContactTax" Class="edit-input easyui-textbox" Binding="ContactTax" IsReadOnly="true" IsRequired="false" Length="20" />
        </Field>
        <Field Title="身份证" FieldType="TextBox">
          <Input Tag="input" Name="ContactCardNo" Class="edit-input easyui-textbox" Binding="ContactCardNo" IsReadOnly="true" IsRequired="false" Length="20" />
        </Field>
        <Field Title="Email" FieldType="TextBox">
          <Input Tag="input" Name="ContactEmail" Class="edit-input easyui-textbox" Binding="ContactEmail" IsReadOnly="true" IsRequired="false" Length="20" />
        </Field>
        <Field Title="QQ" FieldType="TextBox">
          <Input Tag="input" Name="QQ" Class="edit-input easyui-textbox" Binding="QQ" IsReadOnly="true" IsRequired="false" Length="12" />
        </Field>
        <Field Title="区域" FieldType="TextBox">
          <Input Tag="input" Name="Area" Class="edit-input easyui-textbox" Binding="Area" IsReadOnly="true" IsRequired="false" Length="30" />
        </Field>
        <Field Title="网址" FieldType="TextBox">
          <Input Tag="input" Name="Site" Class="edit-input easyui-textbox" Binding="Site" IsReadOnly="true" IsRequired="false" Length="50" />
        </Field>
        <Field Title="邮编" FieldType="TextBox">
          <Input Tag="input" Name="ZipCode" Class="edit-input easyui-textbox" Binding="ZipCode" IsReadOnly="true" IsRequired="false" Length="10" />
        </Field>
        <Field Title="地址" FieldType="TextBox">
          <Input Tag="input" Name="Address" Class="edit-input easyui-textbox" Binding="Address" IsReadOnly="true" IsRequired="false" Length="200" />
        </Field>
        <Field Title="营业执照" FieldType="TextBox">
          <Input Tag="input" Name="BusinessLicenseCode" Class="edit-input easyui-textbox" Binding="BusinessLicenseCode" IsReadOnly="true" IsRequired="false" Length="20" />
        </Field>
        <Field Title="组织机构" FieldType="TextBox">
          <Input Tag="input" Name="OrganizationCode" Class="edit-input easyui-textbox" Binding="OrganizationCode" IsReadOnly="true" IsRequired="false" Length="20" />
        </Field>
        <Field Title="税务登记" FieldType="TextBox">
          <Input Tag="input" Name="TaxRegistrationNum" Class="edit-input easyui-textbox" Binding="TaxRegistrationNum" IsReadOnly="true" IsRequired="false" Length="20" />
        </Field>
        <Field Title="开票地址" FieldType="TextBox">
          <Input Tag="input" Name="InvoiceAddress" Class="edit-input easyui-textbox" Binding="InvoiceAddress" IsReadOnly="true" IsRequired="false" Length="100" />
        </Field>
        <Field Title="备注" FieldClass="edit-field-w2" ContentClass="edit-content-w2" FieldType="TextArea">
          <TextArea Tag="input" Name="Remark" Class="edit-input easyui-textbox" Style="height:90px;width:444px" Binding="Remark" IsReadOnly="true" IsRequired="false" Length="200" />
        </Field>
      </Fields>
      <ToolBar Tag="div" ID="toolbar" Class="dialog-button" PageID="P01126">
        <Buttons>
          <UIButton ID="btn-close" Class="easyui-linkbutton edit-button" Options="iconCls:'icon-cancel'" Title="关闭" Action="cancel()" />
        </Buttons>
      </ToolBar>
    </Form>
  </Page>
</EditDialogActionCommand>]]></Command>
  </Action>
  <Action ActionID="ff16d030-509e-48e9-b9b0-dff646a4d46d" Name="Create" Title="新增" ActionValue="8" ErrorCommand="新增页面">
    <Command CommandID="M01627" Name="新增页面" Description="这个命令会直接返回到客户端，无需后继命令" CommandType="EditDialogActionCommand"><![CDATA[<EditDialogActionCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ContentType="text/html">
  <Parameter Name="Sex" Type="Const" DefaultValue="男" />
  <Page SettingType="EditDialog">
    <Form ID="dataform" Class="form-dialog" EditPanelClass="edit-panel-w2">
      <TableLayout />
      <Fields>
        <Field Title="全称" FieldType="TextBox">
          <Input Tag="input" Name="CustomerName" Class="edit-input easyui-textbox" Options="missingMessage:'请输入全称',validType:'length[1,50]',invalidMessage:'全称不得超过50个字符'" Binding="CustomerName" Length="50" />
        </Field>
        <Field Title="简称" FieldType="TextBox">
          <Input Tag="input" Name="CustomerJC" Class="edit-input easyui-textbox" Options="validType:'length[1,10]',invalidMessage:'简称不得超过10个字符'" Binding="CustomerJC" IsRequired="false" Length="10" />
        </Field>
        <Field Title="客户性质" FieldType="ComboBox">
          <ComboBox Tag="input" Name="CNature" Class="edit-input easyui-combobox" Options="editable:false,missingMessage:'请选择客户性质',defaultIndex:1" Binding="CNature" DisplayMember="Name" ValueMember="Code" DataUrl="/Share/GetSystemCodes?code=C056" />
        </Field>
        <Field Title="状态" FieldType="ComboBox">
          <ComboBox Tag="input" Name="CState" Class="edit-input easyui-combobox" Options="editable:false,missingMessage:'请选择状态',defaultIndex:0" Binding="CState" Length="4" DisplayMember="Name" ValueMember="Code" DataUrl="/Share/GetSystemCodes?code=C017" />
        </Field>
        <Field Title="类型" FieldType="ComboBox">
          <ComboBox Tag="input" Name="CType" Class="edit-input easyui-combobox" Options="editable:false,missingMessage:'请选择类型',defaultIndex:1" Binding="CType" Length="6" DisplayMember="Name" ValueMember="Code" DataUrl="/Share/GetSystemCodes?code=C044" OnSelect="function(rec){&#xD;&#xA;var name=rec.Name;&#xD;&#xA;if(name=='代理商客户')&#xD;&#xA;{&#xD;&#xA;$('#AgentID').combobox({&#xD;&#xA;disabled:false,&#xD;&#xA;required:true});&#xD;&#xA;}&#xD;&#xA;else &#xD;&#xA;{&#xD;&#xA;$('#AgentID').combobox({&#xD;&#xA;disabled:true,&#xD;&#xA;required:false,&#xD;&#xA;setValue:''});&#xD;&#xA;}&#xD;&#xA;}&#xD;&#xA;" />
        </Field>
        <Field Title="代理商" FieldType="ComboBox">
          <ComboBox Tag="input" ID="AgentID" Name="AgentID" Class="edit-input easyui-combobox" Options="editable:false,missingMessage:'请选择代理商'" Binding="AgentID" IsEnable="false" IsRequired="false" Length="8" DisplayMember="Name" ValueMember="ID" DataUrl="/Share/Query?name=GetAllCustomer" />
        </Field>
        <Field Title="联系人" FieldType="TextBox">
          <Input Tag="input" Name="Contact" Class="edit-input easyui-textbox" Options="missingMessage:'请输入联系人',validType:'length[1,50]',invalidMessage:'全称不得超过50个字符'" Binding="Contact" Length="50" />
        </Field>
        <Field Title="性别" FieldType="ComboBox">
          <ComboBox Tag="input" Name="ContactSex" Class="edit-input easyui-combobox" Options="editable:false" Binding="/Parameters[Sex]" IsRequired="false" Length="2" DisplayMember="Name" ValueMember="Name" DataUrl="/Share/GetSystemCodes?code=C001" />
        </Field>
        <Field Title="手机" FieldType="TextBox">
          <Input Tag="input" Name="ContactMobiPhone" Class="edit-input easyui-textbox" Options="missingMessage:'请输入联系方式',validType:'mobile'" Binding="ContactMobiPhone" Length="20" />
        </Field>
        <Field Title="座机" FieldType="TextBox">
          <Input Tag="input" Name="ContactTel" Class="edit-input easyui-textbox" Options="validType:'mobile'" Binding="ContactTel" IsRequired="false" Length="20" />
        </Field>
        <Field Title="传真" FieldType="TextBox">
          <Input Tag="input" Name="ContactTax" Class="edit-input easyui-textbox" Options="validType:'contactTax',invalidMessage:'请输入有效的传真号码格式'" Binding="ContactTax" IsRequired="false" Length="20" />
        </Field>
        <Field Title="身份证" FieldType="TextBox">
          <Input Tag="input" Name="ContactCardNo" Class="edit-input easyui-textbox" Options="validType:'identityCard'" Binding="ContactCardNo" IsRequired="false" Length="20" />
        </Field>
        <Field Title="Email" FieldType="TextBox">
          <Input Tag="input" Name="ContactEmail" Class="edit-input easyui-textbox" Options="validType:'email'" Binding="ContactEmail" IsRequired="false" Length="20" />
        </Field>
        <Field Title="QQ" FieldType="TextBox">
          <Input Tag="input" Name="QQ" Class="edit-input easyui-textbox" Options="validType:'length[1,12]',invalidMessage:'QQ不得超过12个字符'" Binding="QQ" IsRequired="false" Length="12" />
        </Field>
        <Field Title="区域" FieldType="TextBox">
          <Input Tag="input" Name="Area" Class="edit-input easyui-textbox" Options="missingMessage:'请输入区域',validType:'length[1,30]',invalidMessage:'区域不得超过30个字符'" Binding="Area" Length="30" />
        </Field>
        <Field Title="网址" FieldType="TextBox">
          <Input Tag="input" Name="Site" Class="edit-input easyui-textbox" Options="validType:'iswebsite'" Binding="Site" IsRequired="false" Length="50" />
        </Field>
        <Field Title="邮编" FieldType="TextBox">
          <Input Tag="input" Name="ZipCode" Class="edit-input easyui-textbox" Options="validType:'postcode'" Binding="ZipCode" IsRequired="false" Length="10" />
        </Field>
        <Field Title="地址" FieldType="TextBox">
          <Input Tag="input" Name="Address" Class="edit-input easyui-textbox" Options="validType:'length[1,200]',invalidMessage:'地址不得超过200个字符'" Binding="Address" IsRequired="false" Length="200" />
        </Field>
        <Field Title="营业执照" FieldType="TextBox">
          <Input Tag="input" Name="BusinessLicenseCode" Class="edit-input easyui-textbox" Options="validType:'length[1,20]',invalidMessage:'营业执照代码不得超过20个字符'" Binding="BusinessLicenseCode" IsRequired="false" Length="20" />
        </Field>
        <Field Title="组织机构" FieldType="TextBox">
          <Input Tag="input" Name="OrganizationCode" Class="edit-input easyui-textbox" Options="validType:'length[1,20]',invalidMessage:'组织机构代码不得超过20个字符'" Binding="OrganizationCode" IsRequired="false" Length="20" />
        </Field>
        <Field Title="税务登记" FieldType="TextBox">
          <Input Tag="input" Name="TaxRegistrationNum" Class="edit-input easyui-textbox" Options="validType:'length[1,20]',invalidMessage:'税务登记代码不得超过20个字符'" Binding="TaxRegistrationNum" IsRequired="false" Length="20" />
        </Field>
        <Field Title="开票地址" FieldType="TextBox">
          <Input Tag="input" Name="InvoiceAddress" Class="edit-input easyui-textbox" Options="validType:'length[1,100]',invalidMessage:'开票地址不得超过100个字符'" Binding="InvoiceAddress" IsRequired="false" Length="100" />
        </Field>
        <Field Title="备注" FieldClass="edit-field-w2" ContentClass="edit-content-w2" FieldType="TextArea">
          <TextArea Tag="input" Name="Remark" Class="edit-input easyui-textbox" Style="height:90px;width:444px" Options="validType:'length[1,200]',invalidMessage:'备注不得超过200个字符',prompt:'备注不得超过200个字符'" Binding="Remark" IsRequired="false" Length="200" />
        </Field>
      </Fields>
      <ToolBar Tag="div" ID="toolbar" Class="dialog-button" PageID="P01126">
        <Buttons>
          <UIButton ID="btn-add" Class="easyui-linkbutton edit-button" Options="iconCls:'icon-ok'" Title="确定" ActionValue="8" Action="submitAct_DGAppend('dataform','/Page/P01126/Add','datagrid')" />
          <UIButton ID="btn-cancel" Class="easyui-linkbutton edit-button" Options="iconCls:'icon-cancel'" Title="取消" Action="cancel()" />
        </Buttons>
      </ToolBar>
    </Form>
  </Page>
</EditDialogActionCommand>]]></Command>
  </Action>
  <Action ActionID="d8b16fb9-bfe0-4673-a226-0ca6c7a538ca" Name="Add" Title="新增" ActionValue="8" ErrorCommand="新增结果">
    <Command CommandID="M01628" Name="执行新增" Description="本查询的结果值为JSON，参数路径为Results[执行新增].Json" CommandType="QueryJsonSqlCommand"><![CDATA[<QueryJsonCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" NextCommand="新增结果" GroupName="业务模块" TableName="bi_Customer" CommandName="Add" SqlType="QueryJson">
  <Parameter Name="CustomerName" Path="Request[CustomerName]" Type="Parameter" Converter="Trim" />
  <Parameter Name="CustomerJC" Path="Request[CustomerJC]" Type="Parameter" Converter="Trim" />
  <Parameter Name="CustomerJM" Path="Request[CustomerJC]" Type="Parameter" Converter="GetPYShort" />
  <Parameter Name="CState" Path="Request[CState]" Type="Parameter" Converter="Trim" />
  <Parameter Name="BID" Type="Const" />
  <Parameter Name="CType" Path="Request[CType]" Type="Parameter" Converter="Trim" />
  <Parameter Name="AgentID" Path="Request[AgentID]" Type="Parameter" Converter="Trim" />
  <Parameter Name="Contact" Path="Request[Contact]" Type="Parameter" Converter="Trim" />
  <Parameter Name="ContactSex" Path="Request[ContactSex]" Type="Parameter" Converter="Trim" />
  <Parameter Name="ContactMobiPhone" Path="Request[ContactMobiPhone]" Type="Parameter" Converter="Trim" />
  <Parameter Name="ContactTel" Path="Request[ContactTel]" Type="Parameter" Converter="Trim" />
  <Parameter Name="ContactTax" Path="Request[ContactTax]" Type="Parameter" Converter="Trim" />
  <Parameter Name="ContactCardNo" Path="Request[ContactCardNo]" Type="Parameter" Converter="Trim" />
  <Parameter Name="ContactEmail" Path="Request[ContactEmail]" Type="Parameter" Converter="Trim" />
  <Parameter Name="QQ" Path="Request[QQ]" Type="Parameter" Converter="Trim" />
  <Parameter Name="Area" Path="Request[Area]" Type="Parameter" Converter="Trim" />
  <Parameter Name="Site" Path="Request[Site]" Type="Parameter" Converter="Trim" />
  <Parameter Name="ZipCode" Path="Request[ZipCode]" Type="Parameter" Converter="Trim" />
  <Parameter Name="Address" Path="Request[Address]" Type="Parameter" Converter="Trim" />
  <Parameter Name="BusinessLicenseCode" Path="Request[BusinessLicenseCode]" Type="Parameter" Converter="Trim" />
  <Parameter Name="OrganizationCode" Path="Request[OrganizationCode]" Type="Parameter" Converter="Trim" />
  <Parameter Name="TaxRegistrationNum" Path="Request[TaxRegistrationNum]" Type="Parameter" Converter="Trim" />
  <Parameter Name="InvoiceAddress" Path="Request[InvoiceAddress]" Type="Parameter" Converter="Trim" />
  <Parameter Name="Remark" Path="Request[Remark]" Type="Parameter" Converter="Trim" />
  <Parameter Name="CreatedUser" Path="CurrentUserID" Type="SystemParameter" />
  <Parameter Name="CreatedTime" Path="CurrentDateTime" Type="SystemParameter" />
  <Parameter Name="ModifiedUser" Path="CurrentUserID" Type="SystemParameter" />
  <Parameter Name="ModifiedTime" Path="CurrentDateTime" Type="SystemParameter" />
  <Parameter Name="CNature" Path="Request[CNature]" Type="Parameter" />
  <Parameter Name="CompanyID" Type="Const" />
  <Parameter Name="DeptID" Type="Const" />
  <Parameter Name="Tel" Type="Const" />
</QueryJsonCommand>]]></Command>
    <Command CommandID="M01629" Name="新增结果" Description="返回新增结果" CommandType="JsonActionCommand"><![CDATA[<JsonActionCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ContentType="application/json">
  <Parameter Name="Data" Path="Results[执行新增].Json" Type="Parameter" />
  <Parameter Name="HasError" Path="Results[执行新增].IsError" Type="Parameter" />
  <Parameter Name="ErrorMessage" Path="Results[执行新增].ErrorMessage" Type="Parameter" />
</JsonActionCommand>]]></Command>
  </Action>
  <Action ActionID="e0e764c8-def9-4e58-b9ca-7cf956f3d833" Name="Edit" Title="修改" ActionValue="16" ErrorCommand="编辑页面">
    <Command CommandID="M01630" Name="查询编辑" Description="查询编辑" CommandType="QuerySqlCommand"><![CDATA[<QueryCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" NextCommand="编辑页面" GroupName="业务模块" TableName="bi_Customer" CommandName="GetEdit">
  <Parameter Name="CustomerID" Path="Request[ID]" Type="Parameter" />
</QueryCommand>]]></Command>
    <Command CommandID="M01631" Name="编辑页面" Description="这个命令会直接返回到客户端，无需后继命令" CommandType="EditDialogActionCommand"><![CDATA[<EditDialogActionCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ContentType="text/html">
  <Parameter Name="Data" Path="LastResult.Items" Type="Parameter" />
  <Page SettingType="EditDialog">
    <ContentHeader>&lt;script type="text/javascript"&gt;
    $(function () {
        $("#CType").combobox({
            onLoadSuccess: function () {
                var type = $('#CType').combobox('getText');
                if (type != '代理商客户') {
                    $('#AgentID').combobox({
                        disabled: true,
                        required: false,
                        setValue: ''
                    });
                }
            }
        });
    })
&lt;/script&gt;</ContentHeader>
    <Form ID="dataform" Class="form-dialog" DataBinding="Parameters[Data]" EditPanelClass="edit-panel-w2">
      <TableLayout />
      <Fields>
        <Field Title="全称" FieldType="TextBox">
          <Input Tag="input" ID="CustomerName" Name="CustomerName" Class="edit-input easyui-textbox" Options="missingMessage:'请输入全称',validType:'length[1,50]',invalidMessage:'全称不得超过50个字符'" Binding="CustomerName" Length="50" />
        </Field>
        <Field Title="简称" FieldType="TextBox">
          <Input Tag="input" Name="CustomerJC" Class="edit-input easyui-textbox" Options="validType:'length[1,10]',invalidMessage:'简称不得超过10个字符'" Binding="CustomerJC" IsRequired="false" Length="10" />
        </Field>
        <Field Title="客户性质" FieldType="ComboBox">
          <ComboBox Tag="input" Name="CNature" Class="edit-input easyui-combobox" Options="editable:false,missingMessage:'请选择客户性质'" Binding="CNature" DisplayMember="Name" ValueMember="Code" DataUrl="/Share/GetSystemCodes?code=C056" />
        </Field>
        <Field Title="状态" FieldType="ComboBox">
          <ComboBox Tag="input" ID="CState" Name="CState" Class="edit-input easyui-combobox" Options="editable:false,missingMessage:'请选择状态'" Binding="CState" DisplayMember="Name" ValueMember="Code" DataUrl="/Share/GetSystemCodes?code=C017" />
        </Field>
        <Field Title="类型" FieldType="ComboBox">
          <ComboBox Tag="input" ID="CType" Name="CType" Class="edit-input easyui-combobox" Options="editable:false,missingMessage:'请选择类型'" Binding="CType" DisplayMember="Name" ValueMember="Code" DataUrl="/Share/GetSystemCodes?code=C044" OnSelect="function(rec){&#xD;&#xA;var name=rec.Name;&#xD;&#xA;if(name=='代理商客户')&#xD;&#xA;{&#xD;&#xA;$('#AgentID').combobox({&#xD;&#xA;disabled:false,&#xD;&#xA;required:true});&#xD;&#xA;}&#xD;&#xA;else &#xD;&#xA;{&#xD;&#xA;$('#AgentID').combobox({&#xD;&#xA;disabled:true,&#xD;&#xA;required:false&#xD;&#xA;});&#xD;&#xA;$('#AgentID').combobox('clear');&#xD;&#xA;}&#xD;&#xA;}&#xD;&#xA;" />
        </Field>
        <Field Title="代理商" FieldType="ComboBox">
          <ComboBox Tag="input" ID="AgentID" Name="AgentID" Class="edit-input easyui-combobox" Options="editable:false,missingMessage:'请选择代理商'" Binding="AgentID" Length="8" DisplayMember="Name" ValueMember="ID" DataUrl="/Share/Query?name=GetAllCustomer" />
        </Field>
        <Field Title="联系人" FieldType="TextBox">
          <Input Tag="input" Name="Contact" Class="edit-input easyui-textbox" Options="missingMessage:'请输入联系人',validType:'length[1,50]',invalidMessage:'全称不得超过50个字符'" Binding="Contact" Length="50" />
        </Field>
        <Field Title="性别" FieldType="ComboBox">
          <ComboBox Tag="input" Name="ContactSex" Class="edit-input easyui-combobox" Options="editable:false" Binding="ContactSex" IsRequired="false" Length="2" DisplayMember="Name" ValueMember="Name" DataUrl="/Share/GetSystemCodes?code=C001" />
        </Field>
        <Field Title="手机" FieldType="TextBox">
          <Input Tag="input" Name="ContactMobiPhone" Class="edit-input easyui-textbox" Options="missingMessage:'请输入联系方式',validType:'mobile'" Binding="ContactMobiPhone" Length="20" />
        </Field>
        <Field Title="座机" FieldType="TextBox">
          <Input Tag="input" Name="ContactTel" Class="edit-input easyui-textbox" Options="validType:'mobile'" Binding="ContactTel" IsRequired="false" Length="20" />
        </Field>
        <Field Title="传真" FieldType="TextBox">
          <Input Tag="input" Name="ContactTax" Class="edit-input easyui-textbox" Options="validType:'contactTax',invalidMessage:'请输入有效的传真号码格式'" Binding="ContactTax" IsRequired="false" Length="20" />
        </Field>
        <Field Title="身份证" FieldType="TextBox">
          <Input Tag="input" Name="ContactCardNo" Class="edit-input easyui-textbox" Options="validType:'identityCard'" Binding="ContactCardNo" IsRequired="false" Length="20" />
        </Field>
        <Field Title="Email" FieldType="TextBox">
          <Input Tag="input" Name="ContactEmail" Class="edit-input easyui-textbox" Options="validType:'email'" Binding="ContactEmail" IsRequired="false" Length="20" />
        </Field>
        <Field Title="QQ" FieldType="TextBox">
          <Input Tag="input" Name="QQ" Class="edit-input easyui-textbox" Options="validType:'length[1,12]',invalidMessage:'QQ不得超过12个字符'" Binding="QQ" IsRequired="false" Length="12" />
        </Field>
        <Field Title="区域" FieldType="TextBox">
          <Input Tag="input" Name="Area" Class="edit-input easyui-textbox" Options="missingMessage:'请输入区域',validType:'length[1,30]',invalidMessage:'区域不得超过30个字符'" Binding="Area" Length="30" />
        </Field>
        <Field Title="网址" FieldType="TextBox">
          <Input Tag="input" Name="Site" Class="edit-input easyui-textbox" Options="validType:'iswebsite'" Binding="Site" IsRequired="false" Length="50" />
        </Field>
        <Field Title="邮编" FieldType="TextBox">
          <Input Tag="input" Name="ZipCode" Class="edit-input easyui-textbox" Options="validType:'postcode'" Binding="ZipCode" IsRequired="false" Length="10" />
        </Field>
        <Field Title="地址" FieldType="TextBox">
          <Input Tag="input" Name="Address" Class="edit-input easyui-textbox" Options="validType:'length[1,200]',invalidMessage:'地址不得超过200个字符'" Binding="Address" IsRequired="false" Length="200" />
        </Field>
        <Field Title="营业执照" FieldType="TextBox">
          <Input Tag="input" Name="BusinessLicenseCode" Class="edit-input easyui-textbox" Options="validType:'length[1,20]',invalidMessage:'营业执照代码不得超过20个字符'" Binding="BusinessLicenseCode" IsRequired="false" Length="20" />
        </Field>
        <Field Title="组织机构" FieldType="TextBox">
          <Input Tag="input" Name="OrganizationCode" Class="edit-input easyui-textbox" Options="validType:'length[1,20]',invalidMessage:'组织机构代码不得超过20个字符'" Binding="OrganizationCode" IsRequired="false" Length="20" />
        </Field>
        <Field Title="税务登记" FieldType="TextBox">
          <Input Tag="input" Name="TaxRegistrationNum" Class="edit-input easyui-textbox" Options="validType:'length[1,20]',invalidMessage:'税务登记代码不得超过20个字符'" Binding="TaxRegistrationNum" IsRequired="false" Length="20" />
        </Field>
        <Field Title="开票地址" FieldType="TextBox">
          <Input Tag="input" Name="InvoiceAddress" Class="edit-input easyui-textbox" Options="validType:'length[1,100]',invalidMessage:'开票地址不得超过100个字符'" Binding="InvoiceAddress" IsRequired="false" Length="100" />
        </Field>
        <Field Title="备注" FieldClass="edit-field-w2" ContentClass="edit-content-w2" FieldType="TextArea">
          <TextArea Tag="input" Name="Remark" Class="edit-input easyui-textbox" Style="height:90px;width:444px" Options="validType:'length[1,200]',invalidMessage:'备注不得超过200个字符',prompt:'备注不得超过200个字符'" Binding="Remark" IsRequired="false" Length="200" />
        </Field>
        <Field>
          <Input Tag="input" Name="CustomerID" Class="edit-input" InputType="hidden" Binding="CustomerID" IsHidden="true" />
        </Field>
      </Fields>
      <ToolBar Tag="div" ID="toolbar" Class="dialog-button" PageID="P01126">
        <Buttons>
          <UIButton Tag="a" ID="btn-update" Class="easyui-linkbutton edit-button" Options="iconCls:'icon-ok'" Title="确定" ActionValue="16" Action="submitAct_DGUpdate('dataform','/Page/P01126/Update','datagrid')" />
          <UIButton Tag="a" ID="btn-cancel" Class="easyui-linkbutton edit-button" Options="iconCls:'icon-cancel'" Title="取消" Action="cancel()" />
        </Buttons>
      </ToolBar>
    </Form>
  </Page>
</EditDialogActionCommand>]]></Command>
  </Action>
  <Action ActionID="ab227269-b791-4d95-8987-6dc8f5d1303e" Name="Update" Title="修改" ActionValue="16" ErrorCommand="编辑结果">
    <Command CommandID="M01632" Name="执行更新" Description="本查询的结果值为JSON，参数路径为Results[执行更新].Json" CommandType="QueryJsonSqlCommand"><![CDATA[<QueryJsonCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" NextCommand="编辑结果" GroupName="业务模块" TableName="bi_Customer" CommandName="Update" SqlType="QueryJson">
  <Parameter Name="CustomerID" Path="Request[CustomerID]" Type="Parameter" />
  <Parameter Name="CustomerName" Path="Request[CustomerName]" Type="Parameter" />
  <Parameter Name="CustomerJC" Path="Request[CustomerJC]" Type="Parameter" />
  <Parameter Name="CustomerJM" Path="Request[CustomerJC]" Type="Parameter" Converter="GetPYShort" />
  <Parameter Name="CState" Path="Request[CState]" Type="Parameter" />
  <Parameter Name="BID" Path="CurrentUserProfiles" Type="SystemParameter" DefaultValue="EmployeeID" />
  <Parameter Name="CType" Path="Request[CType]" Type="Parameter" />
  <Parameter Name="AgentID" Path="Request[AgentID]" Type="Parameter" />
  <Parameter Name="Contact" Path="Request[Contact]" Type="Parameter" />
  <Parameter Name="ContactSex" Path="Request[ContactSex]" Type="Parameter" />
  <Parameter Name="ContactMobiPhone" Path="Request[ContactMobiPhone]" Type="Parameter" />
  <Parameter Name="ContactTel" Path="Request[ContactTel]" Type="Parameter" />
  <Parameter Name="ContactTax" Path="Request[ContactTax]" Type="Parameter" />
  <Parameter Name="ContactCardNo" Path="Request[ContactCardNo]" Type="Parameter" />
  <Parameter Name="ContactEmail" Path="Request[ContactEmail]" Type="Parameter" />
  <Parameter Name="QQ" Path="Request[QQ]" Type="Parameter" />
  <Parameter Name="Area" Path="Request[Area]" Type="Parameter" />
  <Parameter Name="Site" Path="Request[Site]" Type="Parameter" />
  <Parameter Name="ZipCode" Path="Request[ZipCode]" Type="Parameter" />
  <Parameter Name="Address" Path="Request[Address]" Type="Parameter" />
  <Parameter Name="BusinessLicenseCode" Path="Request[BusinessLicenseCode]" Type="Parameter" />
  <Parameter Name="OrganizationCode" Path="Request[OrganizationCode]" Type="Parameter" />
  <Parameter Name="TaxRegistrationNum" Path="Request[TaxRegistrationNum]" Type="Parameter" />
  <Parameter Name="InvoiceAddress" Path="Request[InvoiceAddress]" Type="Parameter" />
  <Parameter Name="Remark" Path="Request[Remark]" Type="Parameter" />
  <Parameter Name="ModifiedUser" Path="CurrentUserID" Type="SystemParameter" />
  <Parameter Name="ModifiedTime" Path="CurrentDateTime" Type="SystemParameter" />
  <Parameter Name="CNature" Path="Request[CNature]" Type="Parameter" />
</QueryJsonCommand>]]></Command>
    <Command CommandID="M01633" Name="编辑结果" Description="返回编辑结果" CommandType="JsonActionCommand"><![CDATA[<JsonActionCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ContentType="application/json">
  <Parameter Name="Data" Path="Results[执行更新].Json" Type="Parameter" />
  <Parameter Name="HasError" Path="Results[执行更新].IsError" Type="Parameter" />
  <Parameter Name="ErrorMessage" Path="Results[执行更新].ErrorMessage" Type="Parameter" />
</JsonActionCommand>]]></Command>
  </Action>
  <Action ActionID="e0682fb1-442c-4d09-85e4-fcdc723cbbb6" Name="SetRule" Title="规则设定" ActionValue="32" ErrorCommand="规则信息">
    <Command CommandID="M01205" Name="获取规则信息" CommandType="QuerySqlCommand"><![CDATA[<QueryCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" NextCommand="规则信息" GroupName="业务模块" TableName="bi_CustomerRule" CommandName="GetEdit">
  <Parameter Name="CompanyID" Path="CurrentUserProfiles" Type="SystemParameter" DefaultValue="CompanyID" />
</QueryCommand>]]></Command>
    <Command CommandID="M01510" Name="规则信息" CommandType="RazorContentActionCommand"><![CDATA[<RazorContentActionCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ContentType="text/xml" TemplateFile="\Customer\CustomerRule.cshtml" SettingType="IndexPage">
  <Parameter Name="Data" Path="LastResult.Item" Type="Parameter" />
</RazorContentActionCommand>]]></Command>
  </Action>
  <Action ActionID="59ffd43f-b1e3-4af9-8d86-67da9a7b4d66" Name="UpdateRule" Title="规则设定" ActionValue="32" ErrorCommand="编辑结果">
    <Command CommandID="M01632" Name="执行更新" Description="本查询的结果值为JSON，参数路径为Results[执行更新].Json" CommandType="QueryJsonSqlCommand"><![CDATA[<QueryJsonCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" NextCommand="编辑结果" GroupName="业务模块" TableName="bi_CustomerRule" CommandName="Update" SqlType="QueryJson">
  <Parameter Name="CompanyID" Path="Request[CompanyID]" Type="Parameter" />
  <Parameter Name="CustomerLimit" Path="Request[CustomerLimit]" Type="Parameter" />
  <Parameter Name="ModifiedUser" Path="CurrentUserID" Type="SystemParameter" />
  <Parameter Name="ModifiedTime" Path="CurrentDateTime" Type="SystemParameter" />
  <Parameter Name="CreatedUser" Path="CurrentUserID" Type="SystemParameter" />
  <Parameter Name="CreatedTime" Path="CurrentDateTime" Type="SystemParameter" />
</QueryJsonCommand>]]></Command>
    <Command CommandID="M01633" Name="编辑结果" Description="返回编辑结果" CommandType="JsonActionCommand"><![CDATA[<JsonActionCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ContentType="application/json">
  <Parameter Name="Data" Path="Results[执行更新].Json" Type="Parameter" />
  <Parameter Name="HasError" Path="Results[执行更新].IsError" Type="Parameter" />
  <Parameter Name="ErrorMessage" Path="Results[执行更新].ErrorMessage" Type="Parameter" />
</JsonActionCommand>]]></Command>
  </Action>
  <Action ActionID="d812ca65-56dc-4643-842a-c81b24f5f773" Name="GetCustomerLimit" Title="新增上限" ErrorCommand="查询结果">
    <Command CommandID="M01317" Name="查询信息" CommandType="QuerySqlCommand"><![CDATA[<QueryCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" NextCommand="查询结果" GroupName="业务模块" TableName="bi_CustomerRule" CommandName="GetEdit">
  <Parameter Name="CompanyID" Path="Request[ID]" Type="Parameter" />
</QueryCommand>]]></Command>
    <Command CommandID="M01361" Name="查询结果" CommandType="JsonActionCommand"><![CDATA[<JsonActionCommand xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ContentType="application/json">
  <Parameter Name="Data" Path="Results[查询信息].Items" Type="Parameter" />
  <Parameter Name="HasError" Path="Results[查询信息].IsError" Type="Parameter" />
  <Parameter Name="ErrorMessage" Path="Results[查询信息].ErrorMessage" Type="Parameter" />
</JsonActionCommand>]]></Command>
  </Action>
  <Layout EditFieldClass="edit-field" />
  <Buttons>
    <Button ID="btn-search" Title="检索" ActionValue="2" Action="showActDlg('检索','/Page/P01126/Search',400,300)" Class="easyui-linkbutton" Option="iconCls:'icon-reload'" />
    <Button ID="btn-query" Title="确定" ActionValue="2" Action="submitAct_DGReplace('dataform','/Page/P01126/Query','datagrid')" Class="easyui-linkbutton edit-button" Option="iconCls:'icon-ok'" ShowInToolBar="false" />
    <Button ID="btn-detail" Title="查看" ActionValue="4" Action="showActDlg_DGItemActDlg('datagrid','查看','/Page/P01126/Detail',400,300)" Class="easyui-linkbutton toolradio" Option="iconCls:'icon-add'" />
    <Button ID="btn-create" Title="新增" ActionValue="8" Action="showActDlg('新增','/Page/P01126/Create',400,300)" Class="easyui-linkbutton" Option="iconCls:'icon-add'" />
    <Button ID="btn-add" Title="确定" ActionValue="8" Action="submitAct_DGAppend('dataform','/Page/P01126/Add','datagrid')" Class="easyui-linkbutton edit-button" Option="iconCls:'icon-ok'" ShowInToolBar="false" />
    <Button ID="btn-edit" Title="修改" ActionValue="16" Action="showActDlg_DGItemActDlg('datagrid','修改','/Page/P01126/Edit',400,300)" Class="easyui-linkbutton toolradio" Option="iconCls:'icon-edit'" />
    <Button ID="btn-update" Title="确定" ActionValue="16" Action="submitAct_DGUpdate('dataform','/Page/P01126/Update','datagrid')" Class="easyui-linkbutton edit-button" Option="iconCls:'icon-ok'" ShowInToolBar="false" />
    <Button ID="btn-delete" Title="删除" ActionValue="32" Action="showActDlg_DGItemsConfirm('datagrid','删除','确认删除选择项？','/Page/P01126/Delete',400,300)" Class="easyui-linkbutton toolmultiple" Option="iconCls:'icon-cancel'" />
    <Button ID="btn-import" Title="导入" ActionValue="64" Action="showActDlg('导入','/Page/P01126/Import',400,300)" Class="easyui-linkbutton" Option="iconCls:'icon-import'" />
    <Button ID="btn-export" Title="导出" ActionValue="128" Action="showActDlg('导出','/Page/P01126/Export',400,300)" Class="easyui-linkbutton" Option="iconCls:'icon-export'" />
    <Button ID="btn-cancel" Title="取消" Action="cancel()" Class="easyui-linkbutton edit-button" Option="iconCls:'icon-cancel'" ShowInToolBar="false" />
    <Button ID="btn-close" Title="确定" Action="cancel()" Class="easyui-linkbutton edit-button" ShowInToolBar="false" />
  </Buttons>
  <EditSource GroupName="业务模块" TableName="bi_Customer" Key="CustomerID" LogicDeleteFlag="IsActive=0">
    <Fields>
      <EditField Name="CustomerID" Title="CustomerID" DataType="varchar" Length="8" ShowInSearch="false" EditBox="Hidden" />
      <EditField Name="CustomerName" Title="全称" DataType="nvarchar" Length="50" />
      <EditField Name="CustomerJC" Title="简称" DataType="nvarchar" Length="10" />
      <EditField Name="CustomerJM" Title="简码" DataType="nvarchar" Length="10" />
      <EditField Name="CState" Title="状态" DataType="varchar" Length="4" ShowInSearch="false" />
      <EditField Name="BID" Title="所属商务" DataType="varchar" Length="8" ShowInSearch="false" />
      <EditField Name="CType" Title="类型" DataType="varchar" Length="6" />
      <EditField Name="AgentID" Title="代理商" DataType="varchar" Length="8" ShowInSearch="false" />
      <EditField Name="Contact" Title="联系人" DataType="nvarchar" Length="50" />
      <EditField Name="ContactSex" Title="性别" DataType="nvarchar" Length="2" ShowInSearch="false" />
      <EditField Name="ContactMobiPhone" Title="手机" DataType="nvarchar" Length="20" />
      <EditField Name="ContactTel" Title="座机" DataType="nvarchar" Length="20" />
      <EditField Name="ContactTax" Title="传真" DataType="nvarchar" Length="20" ShowInSearch="false" />
      <EditField Name="ContactCardNo" Title="身份证" DataType="nvarchar" Length="20" ShowInSearch="false" />
      <EditField Name="ContactEmail" Title="Email" DataType="nvarchar" Length="20" ShowInSearch="false" />
      <EditField Name="QQ" Title="QQ" DataType="nvarchar" Length="12" ShowInSearch="false" />
      <EditField Name="Area" Title="区域" DataType="nvarchar" Length="30" ShowInSearch="false" />
      <EditField Name="Site" Title="网址" DataType="nvarchar" Length="50" ShowInSearch="false" />
      <EditField Name="ZipCode" Title="邮编" DataType="nvarchar" Length="10" ShowInSearch="false" />
      <EditField Name="Address" Title="地址" DataType="nvarchar" Length="200" ShowInSearch="false" />
      <EditField Name="BusinessLicenseCode" Title="营业执照代码" DataType="nvarchar" Length="20" ShowInSearch="false" />
      <EditField Name="OrganizationCode" Title="组织机构代码" DataType="nvarchar" Length="20" ShowInSearch="false" />
      <EditField Name="TaxRegistrationNum" Title="税务登记代码" DataType="nvarchar" Length="20" ShowInSearch="false" />
      <EditField Name="InvoiceAddress" Title="开票地址" DataType="nvarchar" Length="100" ShowInSearch="false" />
      <EditField Name="Remark" Title="备注" DataType="nvarchar" Length="200" ShowInSearch="false" />
      <EditField Name="IsPublic" Title="公海否" DataType="bit" ShowInSearch="false" EditBox="ComboBox" ItemsSource="1:是|0:否" />
      <EditField Name="CreatedUser" Title="CreatedUser" DataType="varchar" Length="6" ShowInGrid="false" ShowInCreate="false" ShowInEdit="false" ShowInDetail="false" ShowInSearch="false" IsRequired="false" EnableEdit="false" />
      <EditField Name="CreatedTime" Title="CreatedTime" DataType="datetime" ShowInGrid="false" ShowInCreate="false" ShowInEdit="false" ShowInDetail="false" ShowInSearch="false" IsRequired="false" EnableEdit="false" />
      <EditField Name="ModifiedUser" Title="ModifiedUser" DataType="varchar" Length="6" ShowInGrid="false" ShowInCreate="false" ShowInEdit="false" ShowInDetail="false" ShowInSearch="false" IsRequired="false" EnableEdit="false" />
      <EditField Name="ModifiedTime" Title="ModifiedTime" DataType="datetime" ShowInGrid="false" ShowInCreate="false" ShowInEdit="false" ShowInDetail="false" ShowInSearch="false" IsRequired="false" EnableEdit="false" />
      <EditField Name="AutoKey" Title="AutoKey" DataType="int" ShowInGrid="false" ShowInCreate="false" ShowInEdit="false" ShowInDetail="false" ShowInSearch="false" IsRequired="false" EnableEdit="false" />
    </Fields>
    <ChildTables />
  </EditSource>
</MvcEditPage>